<!DOCTYPE html>
<html lang='zh-CN'>

<head>
  <meta name="generator" content="Hexo 5.4.0">
  <meta name="hexo-theme" content="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.19.0">
  <meta charset="utf-8">
  

  <meta http-equiv='x-dns-prefetch-control' content='on' />
  <link rel='dns-prefetch' href='https://gcore.jsdelivr.net'>
  <link rel="preconnect" href="https://gcore.jsdelivr.net" crossorigin>
  <link rel='dns-prefetch' href='//unpkg.com'>

  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="theme-color" content="#f8f8f8">
  
  <title>Linux 常用命令 - 苏三博客</title>

  
    <meta name="description" content="Linux 常用命令">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux 常用命令">
<meta property="og:url" content="https://su3.cn/2024/08/05/20240805/index.html">
<meta property="og:site_name" content="苏三博客">
<meta property="og:description" content="Linux 常用命令">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://su3.cn/postimg/6dd5b0e5f6f8dc98dc256066675f291a.png">
<meta property="article:published_time" content="2024-08-05T13:00:00.000Z">
<meta property="article:modified_time" content="2025-12-16T09:08:08.837Z">
<meta property="article:author" content="SuSan">
<meta property="article:tag" content="笔记">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://su3.cn/postimg/6dd5b0e5f6f8dc98dc256066675f291a.png">
  
  
  
  <meta name="keywords" content="笔记">

  <!-- feed -->
  

  
    
<link rel="stylesheet" href="/css/main.css">

  

  

  

  


  
    
      <link href="https://gcore.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.1.0/lxgwwenkaiscreen.css" rel="stylesheet">
    
  
</head>

<body>
  




  <div class='l_body' id='start'>
    <aside class='l_left' layout='post'>
    

  

<header class="header"><div class="logo-wrap"><a class="avatar"  style="width:52px;height:52px;" href="/about/"><div class="bg" style="opacity:0;background-image:url(https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.4/avatar/round/rainbow64@3x.webp);"></div><img no-lazy class="avatar" src="/pic.jpg" onerror="javascript:this.classList.add('error');this.src='https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.4/image/2659360.svg';"></a><a class="title" href="/"><div class="main" ff="title" style="font-size: 1.12rem;">苏三博客</div><div class="sub cap" style="margin-top:3px;font-size:10px;color:#CD853F;">- Su3.cn 无限制,有些线路较慢</div><div class="sub cap" style="margin-top:3px;font-size:10px;color:green;">- Xen.cc 静态资源托管加速,限流</div></a></div>

<nav class="menu dis-select"><a class="nav-item active" href="/">博客</a><a class="nav-item" href="/utils/">工具</a><a class="nav-item" href="/music/">歌单</a><a class="nav-item" href="/about/">更多</a></nav>
</header>


<div class="widgets">

<widget class="widget-wrapper toc single" id="data-toc"><div class="widget-header cap dis-select"><span class="name">Linux 常用命令</span></div><div class="widget-body fs14"><div class="doc-tree active"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81cd-%E5%88%87%E6%8D%A2%E5%BD%93%E5%89%8D%E7%9B%AE%E5%BD%95"><span class="toc-text">1、cd - 切换当前目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81ls-%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%E4%B8%8E%E7%9B%AE%E5%BD%95"><span class="toc-text">2、ls - 查看文件与目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81grep-%E5%88%86%E6%9E%90%E4%B8%80%E8%A1%8C%E5%86%85%E5%AE%B9%E8%BF%87%E6%BB%A4%E7%AD%9B%E9%80%89"><span class="toc-text">3、grep - 分析一行内容过滤筛选</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81cat-%E6%9F%A5%E7%9C%8B%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6%E7%9A%84%E5%86%85%E5%AE%B9"><span class="toc-text">4、cat - 查看文本文件的内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81tail-tailf-%E4%BB%8E%E5%B0%BE%E9%83%A8%E6%9F%A5%E7%9C%8B%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6%E7%9A%84%E5%86%85%E5%AE%B9"><span class="toc-text">5、tail&#x2F;tailf - 从尾部查看文本文件的内容</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E3%80%81find-%E6%9F%A5%E6%89%BE%E6%96%87%E4%BB%B6"><span class="toc-text">6、find - 查找文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%E3%80%81locate-%E6%9F%A5%E6%89%BE%E6%96%87%E4%BB%B6"><span class="toc-text">7、locate - 查找文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8%E3%80%81cp-%E5%A4%8D%E5%88%B6%E6%96%87%E4%BB%B6"><span class="toc-text">8、cp - 复制文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9%E3%80%81scp-%E8%BF%9C%E7%A8%8B%E5%A4%8D%E5%88%B6%E6%96%87%E4%BB%B6"><span class="toc-text">9、scp - 远程复制文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10%E3%80%81vim-%E7%BC%96%E8%BE%91%E6%96%87%E4%BB%B6"><span class="toc-text">10、vim - 编辑文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11%E3%80%81mv-%E7%A7%BB%E5%8A%A8%E7%9B%AE%E5%BD%95%E6%96%87%E4%BB%B6"><span class="toc-text">11、mv - 移动目录文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12%E3%80%81rm-%E5%88%A0%E9%99%A4%E7%9B%AE%E5%BD%95%E6%96%87%E4%BB%B6"><span class="toc-text">12、rm - 删除目录文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13%E3%80%81ln-%E8%BF%9E%E6%8E%A5"><span class="toc-text">13、ln - 连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14%E3%80%81chmod-%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90"><span class="toc-text">14、chmod - 修改文件权限</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15%E3%80%81chgrp-%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E6%89%80%E5%B1%9E%E7%94%A8%E6%88%B7%E7%BB%84"><span class="toc-text">15、chgrp - 修改文件所属用户组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16%E3%80%81chown-%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E6%89%80%E5%B1%9E%E7%94%A8%E6%88%B7%E3%80%81%E7%94%A8%E6%88%B7%E7%BB%84"><span class="toc-text">16、chown - 修改文件所属用户、用户组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17%E3%80%81sz-rz-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD"><span class="toc-text">17、sz&#x2F;rz - 文件上传下载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#18%E3%80%81yum-%E5%8C%85%E5%AE%89%E8%A3%85%E5%8D%B8%E8%BD%BD"><span class="toc-text">18、yum - 包安装卸载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#19%E3%80%81curl-%E4%B8%8E%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B9%8B%E9%97%B4%E4%BC%A0%E8%BE%93%E6%95%B0%E6%8D%AE"><span class="toc-text">19、curl - 与服务器之间传输数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#20%E3%80%81wget-%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD"><span class="toc-text">20、wget - 文件下载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#21%E3%80%81ps-%E6%9F%A5%E7%9C%8B%E8%BF%9B%E7%A8%8B%E8%BF%90%E8%A1%8C%E6%83%85%E5%86%B5"><span class="toc-text">21、ps - 查看进程运行情况</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#22%E3%80%81top-%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%95%B4%E4%BD%93%E8%BF%90%E8%A1%8C%E6%83%85%E5%86%B5"><span class="toc-text">22、top - 查看系统的整体运行情况</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#23%E3%80%81kill-%E6%A0%B9%E6%8D%AE%E8%BF%9B%E7%A8%8B-ID-%E6%9D%80%E6%AD%BB%E8%BF%9B%E7%A8%8B"><span class="toc-text">23、kill - 根据进程 ID 杀死进程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%B9%E9%87%8F%E6%9D%80%E6%AD%BB%E8%BF%9B%E7%A8%8B-ps-grep-awk-kill"><span class="toc-text">批量杀死进程 (ps&#x2F;grep&#x2F;awk&#x2F;kill)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#24%E3%80%81killall-%E6%9D%80%E6%AD%BB%E6%8C%87%E5%AE%9A%E5%90%8D%E5%AD%97%E7%9A%84%E8%BF%9B%E7%A8%8B"><span class="toc-text">24、killall - 杀死指定名字的进程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#25%E3%80%81file-%E8%BE%A8%E8%AF%86%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B"><span class="toc-text">25、file - 辨识文件类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#26%E3%80%81tar-%E5%AF%B9%E6%96%87%E4%BB%B6%E5%8E%8B%E7%BC%A9%E8%A7%A3%E5%8E%8B%E7%BC%A9"><span class="toc-text">26、tar - 对文件压缩解压缩</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#27%E3%80%81zip-unzip-gzip-gunzip-%E5%AF%B9%E6%96%87%E4%BB%B6%E5%8E%8B%E7%BC%A9%E8%A7%A3%E5%8E%8B%E7%BC%A9"><span class="toc-text">27、zip&#x2F;unzip&#x2F;gzip&#x2F;gunzip - 对文件压缩解压缩</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#28%E3%80%81adduser-useradd-userdel-%E5%A2%9E%E5%8A%A0%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7"><span class="toc-text">28、adduser&#x2F;useradd&#x2F;userdel - 增加删除用户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#29%E3%80%81passwd-%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81"><span class="toc-text">29、passwd - 修改用户密码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#30%E3%80%81time-%E6%B5%8B%E7%AE%97%E4%B8%80%E4%B8%AA%E5%91%BD%E4%BB%A4%E7%9A%84%E6%89%A7%E8%A1%8C%E6%97%B6%E9%97%B4"><span class="toc-text">30、time - 测算一个命令的执行时间</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#31%E3%80%81free-%E6%98%BE%E7%A4%BA%E5%86%85%E5%AD%98%E7%9A%84%E4%BD%BF%E7%94%A8%E6%83%85%E5%86%B5"><span class="toc-text">31、free - 显示内存的使用情况</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#32%E3%80%81crontab-%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1"><span class="toc-text">32、crontab - 定时任务</span></a></li></ol></div></div></widget>




</div>


    </aside>
    <div class='l_main'>
      

      



<div class="bread-nav fs12"><div id="breadcrumb"><a class="cap breadcrumb" href="/">主页</a><span class="sep"></span><a class="cap breadcrumb" href="/">文章</a><span class="sep"></span><a class="cap breadcrumb-link" href="/categories/Linux/">Linux</a></div><div id="post-meta">发布于&nbsp;<time datetime="2024-08-05T13:00:00.000Z">2024-08-05</time></div></div>

<article class='md-text content post'>
<h1 class="article-title"><span>Linux 常用命令</span></h1>
<div class="tag-plugin image"><div class="image-bg"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://su3.cn/postimg/6dd5b0e5f6f8dc98dc256066675f291a.png" fancybox="true"/></div></div>

<h3 id="1、cd-切换当前目录"><a href="#1、cd-切换当前目录" class="headerlink" title="1、cd - 切换当前目录"></a><strong>1、cd - 切换当前目录</strong></h3><p>这是一个最基本，也是最常用的命令，它用于切换当前目录，它的参数是要切换到的目录的路径，可以是绝对路径，也可以是相对路径。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd /root   # 切换到目录/root</span><br><span class="line">cd ./path          # 切换到当前目录下的path目录中，“.”表示当前目录    </span><br><span class="line">cd ../path         # 切换到上层目录中的path目录中，“..”表示上一层目录  </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="2、ls-查看文件与目录"><a href="#2、ls-查看文件与目录" class="headerlink" title="2、ls - 查看文件与目录"></a>2、ls - 查看文件与目录</h3><p>这也是一个非常有用的查看文件与目录的命令，它的参数非常多，下面就列出一些常用的参数：</p>
<ul>
<li>  -l ：列出长数据串，包含文件的属性与权限数据等</li>
<li>  -a ：列出全部的文件，连同隐藏文件（开头为. 的文件）一起列出来（常用）</li>
<li>  -d ：仅列出目录本身，而不是列出目录的文件数据</li>
<li>  -h ：将文件容量以较易读的方式（GB，kB 等）列出来</li>
<li>  -R ：连同子目录的内容一起列出（递归列出），等于该目录下的所有文件都会显示出来</li>
</ul>
<p><strong>注：这些参数也可以组合使用</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ls -l   # 以长数据串的形式列出当前目录下的数据文件和目录 </span><br><span class="line">ls -al   # 以长数据串的形式列出当前目录下的数据文件和目录及隐藏文件(常用)</span><br><span class="line">ls -lR  # 以长数据串的形式列出当前目录下的所有文件  </span><br><span class="line">ls -aR # 列出当前目录所有文件，包括子目录</span><br><span class="line"></span><br><span class="line">ls -al --block-size=m  # 查看文件大小，其中k,m,g表示单位</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>相关命令：</strong></p>
<p>如果想展示树形结构，可使用 tree 命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># 使用yum install tree命令先安装tree</span><br><span class="line">tree # 树形展示当前目录下所有子文件和目录，该命令不显示中文</span><br><span class="line"></span><br><span class="line">tree -N # 中文展示</span><br><span class="line"></span><br><span class="line">tree -N -L 2 # 遍历两级菜单</span><br><span class="line"></span><br><span class="line">tree /home --charset=gbk -L 2 # 设定中文编码</span><br><span class="line"></span><br><span class="line"># -a显示所有文件，-C文件与目录清单加上颜色，-L 2遍历两级菜单</span><br><span class="line">tree -aC -L 2 </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><code>-I</code> 命令允许你使用正则匹配来排除掉你不想看到的文件夹。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">tree -I &quot;node_modules&quot;</span><br><span class="line"></span><br><span class="line"># 也可以使用`|`同时排除掉多个文件夹</span><br><span class="line"># 最后一个使用到正则匹配，这样以`test_`开头的文件夹都不会被显示出来。</span><br><span class="line">tree -I &quot;node_modules|cache|test_*&quot;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="3、grep-分析一行内容过滤筛选"><a href="#3、grep-分析一行内容过滤筛选" class="headerlink" title="3、grep - 分析一行内容过滤筛选"></a>3、grep - 分析一行内容过滤筛选</h3><p>分析一行的信息，若当中有我们所需要的信息，就将该行显示出来，该命令通常与管道命令一起使用，用于对一些命令的输出进行筛选加工等，下面就列出一些常用的参数：</p>
<ul>
<li>  -a ：将 binary 文件以 text 文件的方式查找数据</li>
<li>  -c ：计算找到‘查找字符串’的次数</li>
<li>  -i ：忽略大小写的区别，即把大小写视为相同</li>
<li>  -v ：反向选择，即显示出没有‘查找字符串’内容的那一行</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># 把ls -l的输出中包含字母file（不区分大小写）的内容输出  </span><br><span class="line">ls -l | grep -i file  </span><br><span class="line"></span><br><span class="line"># 取出文件/etc/passwd中包含root的行，并把找到的关键字加上颜色  </span><br><span class="line">grep --color=auto &#x27;root&#x27; /etc/passwd</span><br><span class="line"></span><br><span class="line"># 当我们需要过滤多个文件时，也很管用</span><br><span class="line"># 查看以smart开头的目录下面以smart开头的properties配置文件是否包含kafka</span><br><span class="line">grep --color=auto &#x27;kafka&#x27; smart*/smart*.properties</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="4、cat-查看文本文件的内容"><a href="#4、cat-查看文本文件的内容" class="headerlink" title="4、cat - 查看文本文件的内容"></a>4、cat - 查看文本文件的内容</h3><p>该命令用于查看文本文件的内容，后接要查看的文件名，通常可用管道与 more 和 less 一起使用，从而可以一页页地查看数据，下面就列出一些常用的参数：</p>
<ul>
<li>  <strong>-n</strong> ：由 1 开始对所有输出的行数编号。</li>
<li>  <strong>-b</strong> ：和 -n 相似，只不过对于空白行不编号。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">cat text | less # 查看text文件中的内容,这条命令也可以使用less text来代替 </span><br><span class="line"></span><br><span class="line">cat /etc/redhat-release # 查看操作系统版本号</span><br><span class="line">cat /proc/version  # 查看操作系统版本</span><br><span class="line">cat /etc/os-release # 查看操作系统版本号</span><br><span class="line">cat /etc/*release*  # 查看操作系统版本号,这个命令比较好使</span><br><span class="line"></span><br><span class="line"># 总核数 = 物理CPU个数 X 每颗物理CPU的核数 </span><br><span class="line"># 总逻辑CPU数 = 物理CPU个数 X 每颗物理CPU的核数 X 超线程数</span><br><span class="line">cat /proc/cpuinfo # 查看CPU信息</span><br><span class="line"># 查看物理CPU个数</span><br><span class="line">cat /proc/cpuinfo | grep &quot;physical id&quot;| sort| uniq| wc -l</span><br><span class="line"># 查看每个物理CPU中core的个数(即核数)</span><br><span class="line">cat /proc/cpuinfo | grep &quot;cpu cores&quot;| uniq</span><br><span class="line"># 查看逻辑CPU的个数</span><br><span class="line">cat /proc/cpuinfo | grep &quot;processor&quot; | wc -l</span><br><span class="line"># 查看CPU信息（型号）</span><br><span class="line">cat /proc/cpuinfo | grep name | cut -f2 -d: | uniq -c</span><br><span class="line"></span><br><span class="line">cat /proc/meminfo # 查看内存信息</span><br><span class="line"></span><br><span class="line"># 查看所有用户帐号的信息，包括用户名和密码</span><br><span class="line"># passwd文件由许多条记录组成，每条记录占一行，记录了一个用户帐号的所有信息。</span><br><span class="line"># 每条记录由7个字段组成，字段间用冒号“:”隔开，其格式如下：</span><br><span class="line"># username:password:User ID:Group ID:comment:home directory:shell</span><br><span class="line">cat /etc/passwd </span><br><span class="line"></span><br><span class="line">cat /etc/resolv.conf # 查看DNS</span><br><span class="line"></span><br><span class="line"># 过滤有error的行，并输出行号</span><br><span class="line">cat -n app.log | grep &#x27;error&#x27;</span><br><span class="line"></span><br><span class="line"># 清空 /etc/test.txt 文档内容</span><br><span class="line">cat /dev/null &gt; /etc/test.txt</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="5、tail-tailf-从尾部查看文本文件的内容"><a href="#5、tail-tailf-从尾部查看文本文件的内容" class="headerlink" title="5、tail/tailf - 从尾部查看文本文件的内容"></a>5、tail/tailf - 从尾部查看文本文件的内容</h3><p>用于从文件尾部查看文件的内容，有一个常用的参数 -f 常用于查阅正在改变的日志文件。tail -f filename 会把 filename 文件里的最尾部的内容显示在屏幕上，并且不断刷新，只要 filename 更新就可以看到最新的文件内容。</p>
<p>常用参数如下：</p>
<ul>
<li>  -f：循环读取</li>
<li>  -c &lt;数目&gt;：显示的字节数</li>
<li>  -n &lt;行数&gt;：显示文件的尾部 n 行内容</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># 查看文件的后10行</span><br><span class="line">tail -10 /etc/passwd 或 tail -n 10 /etc/passwd </span><br><span class="line"></span><br><span class="line"># 不停地去读/var/log/messages文件最新的内容，这样有实时监视的效果，用Ctrl＋c来终止！</span><br><span class="line">tail -f /var/log/messages </span><br><span class="line"></span><br><span class="line"># 显示文件 notes.log 的内容，从第 20 行至文件末尾:</span><br><span class="line">tail +20 notes.log</span><br><span class="line"></span><br><span class="line"># 显示文件 notes.log 的最后 10 个字符:</span><br><span class="line">tail -c 10 notes.log</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>tailf 等同于 tail -f -n 10，与 tail -f 不同的是，如果文件不增长，它不会去访问磁盘文件，所以 tailf 特别适合那些便携机上跟踪日志文件，因为它减少了磁盘访问，可以省电。</p>
<h3 id="6、find-查找文件"><a href="#6、find-查找文件" class="headerlink" title="6、find - 查找文件"></a><strong>6、find - 查找文件</strong></h3><p>一个查找文件的命令，相对而言，它的使用也相对较为复杂，参数也比较多，所以在这里将给把它们分类列出。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"># 命令格式</span><br><span class="line">find [PATH] [option] [action]  </span><br><span class="line"></span><br><span class="line"># 与时间有关的参数：  </span><br><span class="line">-mtime n : n为数字，意思为在n天之前的“一天内”被更改过的文件</span><br><span class="line">-mtime +n : 列出在n天之前（不含n天本身）被更改过的文件名</span><br><span class="line">-mtime -n : 列出在n天之内（含n天本身）被更改过的文件名</span><br><span class="line">-newer file : 列出比file还要新的文件名</span><br><span class="line"></span><br><span class="line"># 例如：  </span><br><span class="line">find /root -mtime 0 # 在当前root目录下查找今天之内有改动的文件  </span><br><span class="line">find /root -newer xxx # 在当前root目录下查找比file还要新的文件名</span><br><span class="line"></span><br><span class="line"># 与用户或用户组名有关的参数：  </span><br><span class="line">-user name : 列出文件所有者为name的文件  </span><br><span class="line">-group name : 列出文件所属用户组为name的文件  </span><br><span class="line">-uid n : 列出文件所有者为用户ID为n的文件  </span><br><span class="line">-gid n : 列出文件所属用户组为用户组ID为n的文件</span><br><span class="line"></span><br><span class="line"># 例如：  </span><br><span class="line">find /home/liguodong -user liguodong # 在目录/home/liguodong 中找出所有者为liguodong的文件  </span><br><span class="line">  </span><br><span class="line"># 与文件权限及名称有关的参数：  </span><br><span class="line">-name filename ：找出文件名为filename的文件  </span><br><span class="line">-size [+-]SIZE ：找出比SIZE还要大（+）或小（-）的文件  </span><br><span class="line">-tpye TYPE ：查找文件的类型为TYPE的文件，TYPE的值主要有：一般文件（f)、设备文件（b、c）、  </span><br><span class="line">             目录（d）、连接文件（l）、socket（s）、FIFO管道文件（p）；  </span><br><span class="line">-perm mode ：查找文件权限刚好等于mode的文件，mode用数字表示，如0755；  </span><br><span class="line">-perm -mode ：查找文件权限必须要全部包括mode权限的文件，mode用数字表示  </span><br><span class="line">-perm +mode ：查找文件权限包含任一mode的权限的文件，mode用数字表示  </span><br><span class="line"></span><br><span class="line"># 例如：  </span><br><span class="line">find / -name passwd # 查找文件名为passwd的文件  </span><br><span class="line">find . -perm 0755 # 查找当前目录中文件权限的0755的文件, 第一个0，表示十进制  </span><br><span class="line">find . -size +1k # 查找当前目录中大于1KB的文件，注意c表示byte  </span><br><span class="line">find . -size +1024c # 查找当前目录中大于1KB的文件</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="7、locate-查找文件"><a href="#7、locate-查找文件" class="headerlink" title="7、locate - 查找文件"></a>7、locate - 查找文件</h3><p>用于查找符合条件的文档，他会去保存文档和目录名称的数据库内，查找合乎范本样式条件的文档或目录。当我们不知道某个文件放哪里了，能够通过他快速定位到文件目录，这是一条非常有用的命令。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 查找eureka-server-xxx.jar文件的位置</span><br><span class="line">locate &#x27;eureka-server-xxx.jar&#x27;</span><br><span class="line"></span><br><span class="line"># 查询包含passwd的目录或文档</span><br><span class="line">locate passwd</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>locate 与 find 的不同:</strong></p>
<p>find 是去硬盘找，locate 只在 / var/lib/slocate 资料库中找。locate 的速度比 find 快，它并不是真的查找，而是查数据库，一般文件数据库在 / var/lib/slocate/slocate.db 中，所以 locate 的查找并不是实时的，而是以数据库的更新为准，一般是系统自己维护，也可以手工升级数据库 ，命令为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">locate -u </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="8、cp-复制文件"><a href="#8、cp-复制文件" class="headerlink" title="8、cp - 复制文件"></a>8、cp - 复制文件</h3><p>该命令用于复制文件，它还可以把多个文件一次性地复制到一个目录下，它的常用参数如下：</p>
<ul>
<li>  -a ：将文件的特性一起复制</li>
<li>  -p ：连同文件的属性一起复制，而非使用默认方式，与 - a 相似，常用于备份</li>
<li>  -i ：若目标文件已经存在时，在覆盖时会先询问操作的进行</li>
<li>  -r ：递归持续复制，用于目录的复制行为</li>
<li>  -u ：目标文件与源文件有差异时才会复制</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cp -a file1 file2  # 连同文件的所有特性把文件file1复制成文件file2  </span><br><span class="line">cp file1 file2 file3 dir  #把文件file1、file2、file3复制到目录dir中  </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="9、scp-远程复制文件"><a href="#9、scp-远程复制文件" class="headerlink" title="9、scp - 远程复制文件"></a>9、scp - 远程复制文件</h3><p>该命令用于Linux之间复制文件和目录。 scp 是 linux 系统下基于 ssh 登陆进行安全的远程文件拷贝命令。scp 是加密的。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 命令格式</span><br><span class="line">scp [可选参数] file_source file_target</span><br><span class="line"></span><br><span class="line">scp local_file remote_username@remote_ip:remote_folder </span><br><span class="line">scp local_file remote_username@remote_ip:remote_file </span><br><span class="line">scp local_file remote_ip:remote_folder </span><br><span class="line">scp local_file remote_ip:remote_file  </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>下面就列出一些常用的参数：</p>
<ul>
<li>  -p：保留原文件的修改时间，访问时间和访问权限。</li>
<li>  -q： 不显示传输进度条。</li>
<li>  -r： 递归复制整个目录。</li>
<li>  -v：详细方式显示输出。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># 从本地服务器复制到远程服务器</span><br><span class="line"># 复制文件</span><br><span class="line">scp /home/space/music/1.mp3 root@www.runoob.com:/home/root/others/music </span><br><span class="line"># 复制文件夹</span><br><span class="line">scp -r /home/space/music/ root@www.runoob.com:/home/root/others/ </span><br><span class="line"></span><br><span class="line"># 从远程服务器复制到本地服务器</span><br><span class="line"># 复制文件</span><br><span class="line">scp root@www.runoob.com:/home/root/others/music /home/space/music/1.mp3 </span><br><span class="line"># 复制文件夹</span><br><span class="line">scp -r www.runoob.com:/home/root/others/ /home/space/music/</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="10、vim-编辑文件"><a href="#10、vim-编辑文件" class="headerlink" title="10、vim - 编辑文件"></a>10、vim - 编辑文件</h3><p>该命令主要用于文本编辑，它接一个文件名作为参数，如果文件存在就打开，如果文件不存在就以该文件名创建一个文件。vim 是一个非常好用的文本编辑器，它里面有很多非常好用的命令，在这里不再多说。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim demo.txt # 编辑demo.txt文件</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="11、mv-移动目录文件"><a href="#11、mv-移动目录文件" class="headerlink" title="11、mv - 移动目录文件"></a>11、mv - 移动目录文件</h3><p>该命令用于移动文件、目录或更名，move 之意，它的常用参数如下：</p>
<ul>
<li>  -f ：force 强制的意思，如果目标文件已经存在，不会询问而直接覆盖</li>
<li>  -i ：若目标文件已经存在，就会询问是否覆盖</li>
<li>  -u ：若目标文件已经存在，且比目标文件新，才会更新</li>
</ul>
<p><strong>注：</strong> 该命令可以把一个文件或多个文件一次移动一个文件夹中，但是最后一个目标文件一定要是 “目录”。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mv file1 file2 file3 dir # 把文件file1、file2、file3移动到目录dir中  </span><br><span class="line">mv file1 file2  # 把文件file1重命名为file2</span><br><span class="line">mv xxdir/ tempdir # 把目录xxdir下的所有文件和目录移动到temp目录下,包含xxdir目录</span><br><span class="line">mv xxdir/* tempdir # 把目录xxdir下的所有文件和目录移动到temp目录下,不包含xxdir目录</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="12、rm-删除目录文件"><a href="#12、rm-删除目录文件" class="headerlink" title="12、rm - 删除目录文件"></a>12、rm - 删除目录文件</h3><p>该命令用于删除文件或目录，remove 之意，它的常用参数如下：</p>
<ul>
<li>  -f ：就是 force 的意思，忽略不存在的文件，不会出现警告消息</li>
<li>  -i ：互动模式，在删除前会询问用户是否操作</li>
<li>  -r ：递归删除，最常用于目录删除，它是一个非常危险的参数</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rm -i file # 删除文件file，在删除之前会询问是否进行该操作  </span><br><span class="line">rm -rf dir # 强制删除目录dir中的所有文件  </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>** 避免 rm -rf ***</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd $&#123;log_path&#125;</span><br><span class="line">rm -rf *</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>上面的命名，先进入到日志目录，然后把日志都删除。看上去没有任何问题。但是，当目录不存在时，悲剧就发生了。</p>
<p>ps：偷偷告诉你一个小故事，我之前就犯过这种错误，不过好在是自己学习虚拟机上面。如果实现线上生产环境，就不是故事了，而是事故了。</p>
<p>上诉问题有四种方法进行规避：</p>
<p><strong>第一、命令替换</strong>，在生产环境把 rm -rf 命令替换为 mv，再写个定时 shell 定期清理。模拟了回收站的功能。</p>
<p><strong>第二、收拢权限</strong>，帐号权限的分离，线上分配 work 帐号，只能够删除 / home/work/logs / 目录，无法删除根目录。大公司一般线上权限管理比较规范，小公司就未必了，搞不好所有的小伙伴都有权限在线上乱搞。</p>
<p><strong>第三、使用 &amp;&amp;</strong> ，可以通过 “&amp;&amp;”，将</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd $&#123;log_path&#125;</span><br><span class="line">rm -rf *</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>合并成一个语句</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd $&#123;log_path&#125; &amp;&amp; rm -rf *</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>当前半句执行失败的时候，后半句不再执行。</p>
<p><strong>第四、判断目录是否存在</strong>，制定编码规范，对目录进行操作之前，要先判断目录是否存在。靠人的自觉来保证规范的执行，总感觉有些不太靠谱。当然，规范是有必要的。</p>
<h3 id="13、ln-连接"><a href="#13、ln-连接" class="headerlink" title="13、ln - 连接"></a>13、ln - 连接</h3><p>这是一个非常重要命令，它的功能是为某一个文件在另外一个位置建立一个同步的链接。当我们需要在不同的目录，用到相同的文件时，我们不需要在每一个需要的目录下都放一个必须相同的文件，我们只要在某个固定的目录，放上该文件，然后在其它的目录下用 ln 命令链接它就可以，不必重复的占用磁盘空间。</p>
<p>而链接又可分为两种 : 硬链接 (hard link) 与软链接(symbolic link)，硬链接的意思是一个档案可以有多个名称，而软链接的方式则是产生一个特殊的档案，该档案的内容是指向另一个档案的位置。硬链接是存在同一个文件系统中，而软链接却可以跨越不同的文件系统。不论是硬链接或软链接都不会将原本的档案复制一份，只会占用非常少量的磁碟空间。</p>
<p>它的常用参数如下：</p>
<ul>
<li>  -f : 链接时先将与 dist 同档名的档案删除</li>
<li>  -i : 在删除与 dist 同档名的档案时先进行询问</li>
<li>  -n : 在进行软链接时，将 dist 视为一般的档案</li>
<li>  -s : 进行软链接 (symbolic link)</li>
<li>  -v : 在连结之前显示其档名</li>
<li>  -b : 将在链接时会被覆写或删除的档案进行备份</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># 创建软链接在/usr/bin/目录下freeswitch文件，</span><br><span class="line"># 如果 /usr/local/freeswitch/bin/freeswitch丢失，/usr/bin/freeswitch将失效</span><br><span class="line">ln -sf /usr/local/freeswitch/bin/freeswitch /usr/bin/</span><br><span class="line"></span><br><span class="line"># 删除软链接,和删除普通的文件是一眼的，删除都是使用rm来进行操作</span><br><span class="line">rm -rf 软链接名称</span><br><span class="line"></span><br><span class="line"># 下面我们来创建test_chk目录的软链接</span><br><span class="line">ln -s test_chk test_chk_ln</span><br><span class="line"></span><br><span class="line">#软链接创建好了，我们来看看怎么删除它</span><br><span class="line"># 正确的删除方式（删除软链接，但不删除实际数据）</span><br><span class="line">rm -rf  ./test_chk_ln</span><br><span class="line"># 错误的删除方式</span><br><span class="line">rm -rf ./test_chk_ln/ (这样就会把原来test_chk下的内容删除)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>软链接与硬链接的区别：</strong></p>
<p>软链接：</p>
<ul>
<li>  软链接，以路径的形式存在。类似于 Windows 操作系统中的快捷方式</li>
<li>  软链接可以 跨文件系统 ，硬链接不可以</li>
<li>  软链接可以对一个不存在的文件名进行链接</li>
<li>  软链接可以对目录进行链接</li>
</ul>
<p>硬链接：</p>
<ul>
<li>  硬链接，以文件副本的形式存在。但不占用实际空间。</li>
<li>  不允许给目录创建硬链接</li>
<li>  硬链接只有在同一个文件系统中才能创建</li>
</ul>
<h3 id="14、chmod-修改文件权限"><a href="#14、chmod-修改文件权限" class="headerlink" title="14、chmod - 修改文件权限"></a>14、chmod - 修改文件权限</h3><p>chmod 用于管理文件或目录的权限，文件或目录权限的控制分别以读取 ®、写入 (w)、执行 (x)3 种，一般的用法如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chmod [-R] abc 文件或目录  </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>参数说明如下：</p>
<ul>
<li>  -R：进行递归的持续更改，即连同子目录下的所有文件都会更改</li>
<li>  abc : a,b,c 各为一个数字，分别表示 User、Group、及 Other 的权限。</li>
</ul>
<p>该命令有两种用法。一种是包含字母和操作符表达式的文字设定法；</p>
<ul>
<li>  u 表示该文件的拥有者，g 表示与该文件的拥有者属于同一个群体 (group) 者，o 表示其他以外的人，a 表示这三者皆是。</li>
<li><ul>
<li>  表示增加权限、- 表示取消权限、= 表示唯一设定权限。</li>
</ul>
</li>
<li>  r 表示可读取，w 表示可写入，x 表示可执行，X 表示只有当该文件是个子目录或者该文件已经被设定过为可执行。</li>
</ul>
<p>另一种是包含数字的数字设定法。其中 4 表示读，2 表示写，1 表示可执行，因此 7 表示读写可执行，5 表示读可执行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">chmod g+w file # 向file的文件权限中加入用户组可写权限 </span><br><span class="line"># 文件 file1.txt 设为所有人皆可读取 :</span><br><span class="line">chmod ugo+r file1.txt </span><br><span class="line"></span><br><span class="line">chmod 755 file # 把file的文件权限改变为-rxwr-xr-x </span><br><span class="line"></span><br><span class="line">chmod a=rwx file  等价于 chmod 777 file</span><br><span class="line">chmod ug=rwx,o=x file 等价于 chmod 771 file</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="15、chgrp-修改文件所属用户组"><a href="#15、chgrp-修改文件所属用户组" class="headerlink" title="15、chgrp - 修改文件所属用户组"></a>15、chgrp - 修改文件所属用户组</h3><p>该命令用于改变文件所属用户组，它的使用非常简单，它的基本用法如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chgrp [-R] dirname/filename  </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>参数说明如下：</p>
<ul>
<li>  -R ：进行递归的持续对所有文件和子目录更改</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 递归地把dir目录下中的所有文件和子目录下所有文件的用户组修改为users  </span><br><span class="line">chgrp users -R ./dir </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="16、chown-修改文件所属用户、用户组"><a href="#16、chown-修改文件所属用户、用户组" class="headerlink" title="16、chown - 修改文件所属用户、用户组"></a>16、chown - 修改文件所属用户、用户组</h3><p>该命令用于改变文件的所有者，与 chgrp 命令的使用方法相同，只是修改的文件属性不同</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 将文件 file1.txt 的拥有者设为 runoob，用户组组 runoobgroup :</span><br><span class="line">chown runoob:runoobgroup file1.txt</span><br><span class="line"># 将目前目录下的所有文件与子目录的拥有者皆设为 runoob，群体的使用者 runoobgroup:</span><br><span class="line">chown -R runoob:runoobgroup *</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="17、sz-rz-文件上传下载"><a href="#17、sz-rz-文件上传下载" class="headerlink" title="17、sz/rz - 文件上传下载"></a><strong>17、sz/rz - 文件上传下载</strong></h3><p>这是 Linux/Unix 同 Windows 进行 ZModem 文件传输的命令行工具。windows 端需要支持 ZModem 的 telnet/ssh 客户端（比如 SecureCRT、XShell）</p>
<p>sz：将选定的文件发送到本地机器</p>
<p>rz：运行该命令会弹出一个文件选择窗口，从本地选择文件上传到 Linux 服务器</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 安装</span><br><span class="line">yum install lrzsz</span><br><span class="line"></span><br><span class="line"># 从本地上传文件到服务器：</span><br><span class="line">rz</span><br><span class="line"></span><br><span class="line"># 从服务器下载一个文件到本地： </span><br><span class="line">sz filename </span><br><span class="line"># 从服务器下载多个文件到本地： </span><br><span class="line">sz filename1 filename2</span><br><span class="line">### 下载dir目录下的所有文件，不包含dir下的文件夹： </span><br><span class="line"># sz dir/*</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="18、yum-包安装卸载"><a href="#18、yum-包安装卸载" class="headerlink" title="18、yum - 包安装卸载"></a><strong>18、yum - 包安装卸载</strong></h3><p>Linux 包管理器 ，解决依赖问题，方便快捷</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">yum install &lt;package_name&gt; -y  # 安装包</span><br><span class="line">yum search &lt;package_name&gt; # 搜索包名</span><br><span class="line">yum search all  # 查询所有</span><br><span class="line">yum remove &lt;package_name&gt; -y  # 删除包(不建议用，yum可以解决依赖问题，删除会删除所有包依赖)</span><br><span class="line">yum update # 安装所有软件到最新版本</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="19、curl-与服务器之间传输数据"><a href="#19、curl-与服务器之间传输数据" class="headerlink" title="19、curl - 与服务器之间传输数据"></a>19、curl - 与服务器之间传输数据</h3><p>curl 是一个非常实用的、用来与服务器之间传输数据的工具；支持的协议包括 (DICT, FILE, FTP, FTPS, GOPHER, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, POP3, POP3S, RTMP, RTSP, SCP, SFTP, SMTP, SMTPS, TELNET and TFTP)，curl 设计为无用户交互下完成工作；curl 提供了一大堆非常有用的功能，包括代理访问、用户认证、ftp 上传下载、HTTP POST、SSL 连接、cookie 支持、断点续传等。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># 下载页面</span><br><span class="line">curl -o index.html http://aiezu.com</span><br><span class="line"></span><br><span class="line"># 下载并显示进度条</span><br><span class="line">curl -# -o centos6.8.iso http://mirrors.aliyun.com/centos/6.8/isos/x86_64/CentOS.iso</span><br><span class="line"></span><br><span class="line"># 继续完成上次终止的未完成的下载</span><br><span class="line">curl -# -o centos6.8.iso -C - http://mirrors.aliyun.com/centos/6.8/isos/x86_64/CentOS.iso</span><br><span class="line"></span><br><span class="line"># 访问一个网页</span><br><span class="line">curl https://www.baidu.com</span><br><span class="line"></span><br><span class="line"># http请求，带上用户名和密码</span><br><span class="line">curl -u xxx:xxx http://10.250.xxx.xxx:5400/xxx/health</span><br><span class="line"></span><br><span class="line"># http post请求</span><br><span class="line">curl http://xxx.xxx.xxx/shorturl -X POST -d &#x27;&#123;&quot;originalUrl&quot;:&quot;xxx&quot;,</span><br><span class="line">&quot;expire&quot;:7776000,</span><br><span class="line">&quot;app&quot;:&quot;xxx&quot;</span><br><span class="line">&#125;&#x27; --header &quot;Content-Type: application/json&quot;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="20、wget-文件下载"><a href="#20、wget-文件下载" class="headerlink" title="20、wget - 文件下载"></a>20、wget - 文件下载</h3><p>一个下载文件的工具，，我们经常要下载一些软件或从远程服务器恢复备份到本地服务器。wget 支持 HTTP，HTTPS 和 FTP 协议，可以使用 HTTP 代理。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># 使用wget下载单个文件</span><br><span class="line">wget http://www.linuxde.net/testfile.zip</span><br><span class="line"></span><br><span class="line"># 下载并以不同的文件名保存</span><br><span class="line">wget -O wordpress.zip http://www.linuxde.net/download.aspx?id=1080</span><br><span class="line"></span><br><span class="line"># 使用wget断点续传</span><br><span class="line">wget -c http://www.linuxde.net/testfile.zip</span><br><span class="line"></span><br><span class="line"># wget限速下载</span><br><span class="line">wget --limit-rate=300k http://www.linuxde.net/testfile.zip</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="21、ps-查看进程运行情况"><a href="#21、ps-查看进程运行情况" class="headerlink" title="21、ps - 查看进程运行情况"></a>21、ps - 查看进程运行情况</h3><p>该命令用于将某个时间点的进程运行情况选取下来并输出，它的常用参数如下：</p>
<ul>
<li>  -a ： 显示除控制进程与无端进程外的所有进程</li>
<li>  -d ：显示除控制进程外的所有进程</li>
<li>  -e ：显示所有进程</li>
<li>  -g ：显示会话或组 ID 在 grplist 列表中的进程</li>
<li>  -p ：显示 PID 在 pidlist 列表中的进程</li>
<li>  -s ：显示会话 ID 在 sesslist 列表中的进程</li>
<li>  -t ：显示终端 ID 在 ttylist 列表中的进程</li>
<li>  -u ：显示有效用户 ID 在 userlist 列表中的进程</li>
<li>  -x ：以用户为中心组织进程状态信息显示</li>
<li>  -M ：显示进程的安全信息</li>
<li>  -f ：显示完整格式的输出</li>
<li>  -j ：显示任务信息</li>
<li>  -l ：显示长列表</li>
<li>  -o ：仅显示由 format 指定的列</li>
<li>  -y ：不要显示进程标记</li>
<li>  -L ：显示进程中的线程</li>
</ul>
<p>其实我们只要记住 ps 一般使用的命令参数搭配即可，它们并不多，如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ps aux # 查看系统所有的进程数据  </span><br><span class="line">ps ax # 查看不与终端（terminal）有关的所有进程  </span><br><span class="line">ps -lA # 查看系统所有的进程数据  </span><br><span class="line">ps axjf # 查看连同一部分进程树状态 </span><br><span class="line">ps –ef # 显示所有信息，连同命令行 </span><br><span class="line">ps -ef | grep xxx # 过滤池包含xxx的行</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="22、top-查看系统的整体运行情况"><a href="#22、top-查看系统的整体运行情况" class="headerlink" title="22、top - 查看系统的整体运行情况"></a>22、top - 查看系统的整体运行情况</h3><p>实时动态地查看系统的整体运行情况，是一个综合了多方信息监测系统性能和运行信息的实用工具。通过 top 命令所提供的互动式界面，用热键可以管理。它的常用参数如下：</p>
<ul>
<li>  -b：以批处理模式操作；</li>
<li>  -c：显示完整的命令；</li>
<li>  -i &lt;时间&gt;：设置间隔时间；</li>
<li>  -u &lt;用户名&gt;：指定用户名；</li>
<li>  -p &lt;进程号&gt;：指定进程；</li>
<li>  -n &lt;次数&gt;：循环显示的次数。</li>
</ul>
<p>top 交互命令如下：</p>
<ul>
<li>  h：显示帮助画面，给出一些简短的命令总结说明；</li>
<li>  k：终止一个进程；</li>
<li>  i：忽略闲置和僵死进程，这是一个开关式命令；</li>
<li>  q：退出程序；</li>
<li>  r：重新安排一个进程的优先级别；</li>
<li>  S：切换到累计模式；</li>
<li>  s：改变两次刷新之间的延迟时间（单位为 s），如果有小数，就换算成 ms。输入 0 值则系统将不断刷新，默认值是 5s；</li>
<li>  f 或者 F：从当前显示中添加或者删除项目；</li>
<li>  o 或者 O：改变显示项目的顺序；</li>
<li>  l：切换显示平均负载和启动时间信息；</li>
<li>  m：切换显示内存信息；</li>
<li>  t：切换显示进程和 CPU 状态信息；</li>
<li>  c：切换显示命令名称和完整命令行；</li>
<li>  M：根据驻留内存大小进行排序；</li>
<li>  P：根据 CPU 使用百分比大小进行排序；</li>
<li>  T：根据时间 / 累计时间进行排序；w：将当前设置写入~/.toprc 文件中。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">top  # 显示系统中进程的资源占用状况</span><br><span class="line">top -c # 显示系统中进程的资源占用状况，并显示完整的命令</span><br><span class="line">top -u xxx  # 查看xxx用户的进程的资源占用状况</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>相关命令：iotop、htop</strong></p>
<h3 id="23、kill-根据进程-ID-杀死进程"><a href="#23、kill-根据进程-ID-杀死进程" class="headerlink" title="23、kill - 根据进程 ID 杀死进程"></a>23、kill - 根据进程 ID 杀死进程</h3><p>该命令用于向某个工作（%jobnumber）或者是某个 PID（数字）传送一个信号，它通常与 ps 和 jobs 命令一起使用，它的基本语法如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">kill -signal PID  </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>signal 的常用参数如下：</p>
<ul>
<li>  1：SIGHUP，启动被终止的进程</li>
<li>  2：SIGINT，相当于输入 ctrl+c，中断一个程序的进行</li>
<li>  9：SIGKILL，强制中断一个进程的进行</li>
<li>  15：SIGTERM，以正常的结束进程方式来终止进程</li>
<li>  17：SIGSTOP，相当于输入 ctrl+z，暂停一个进程的进行</li>
</ul>
<p><strong>注：</strong> 最前面的数字为信号的代号，使用时可以用代号代替相应的信号。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 以正常的结束进程方式来终于第一个后台工作，可用jobs命令查看后台中的第一个工作进程  </span><br><span class="line">kill -SIGTERM %1   </span><br><span class="line"># 重新改动进程ID为PID的进程，PID可用ps命令通过管道命令加上grep命令进行筛选获得  </span><br><span class="line">kill -SIGHUP PID</span><br><span class="line"># 强制杀死进程号为1112的进程</span><br><span class="line">kill -9 1112</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>kill -15 PID 和 kill -9 PID 的区别</strong></p>
<p>kill -9 PID 是操作系统从内核级别强制杀死一个进程。</p>
<p>kill -15 PID 可以理解为操作系统发送一个通知告诉应用主动关闭。效果是正常退出进程，退出前可以被阻塞或回调处理。并且它是 Linux 缺省的程序中断信号。</p>
<p>尽量使用 kill -15 PID 而不要使用 kill -9 PID。</p>
<p>kill -9 PID 没有给进程留下善后的机会：</p>
<ol>
<li> 关闭 socket 链接</li>
<li> 清理临时文件</li>
<li> 将自己将要被销毁的消息通知给子进程</li>
<li> 重置自己的终止状态</li>
</ol>
<p>一些磁盘操作多的程序更是不要使用 kill -9 PID，会导致数据的丢失，如 ES，kafka 等。</p>
<h4 id="批量杀死进程-ps-grep-awk-kill"><a href="#批量杀死进程-ps-grep-awk-kill" class="headerlink" title="批量杀死进程 (ps/grep/awk/kill)"></a>批量杀死进程 (ps/grep/awk/kill)</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ps aux|grep server|grep -v grep | awk &#x27;&#123;print $2&#125;&#x27;|xargs kill -9</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>说明：</strong></p>
<p>管道符”|” 用来隔开两个命令，管道符左边命令的输出会作为管道符右边命令的输入。</p>
<p>awk 的作用是输出某一列，{print $2} 就是输出第二列，如上即是 pid 这一列。</p>
<p>“xargs kill -9” 中的 xargs 命令是用来把前面命令的输出结果作为”kill -9″命令的参数，并执行该命令。”kill -9″会强行杀掉指定进程。</p>
<h3 id="24、killall-杀死指定名字的进程"><a href="#24、killall-杀死指定名字的进程" class="headerlink" title="24、killall - 杀死指定名字的进程"></a>24、killall - 杀死指定名字的进程</h3><p>用于杀死指定名字的进程，向一个命令启动的进程发送一个信号，它的一般语法如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">killall [-iIe] [command name]  </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>它的参数如下：</p>
<ul>
<li>  -i ：交互式的意思，若需要删除时，会询问用户</li>
<li>  -e ：表示后面接的 command name 要一致，但 command name 不能超过 15 个字符</li>
<li>  -I ：命令名称忽略大小写</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">killall -SIGHUP syslogd # 重新启动syslogd  </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="25、file-辨识文件类型"><a href="#25、file-辨识文件类型" class="headerlink" title="25、file - 辨识文件类型"></a>25、file - 辨识文件类型</h3><p>该命令用于辨识文件类型，因为在 Linux 下文件的类型并不是以后缀为分的，所以这个命令对我们来说就很有用了，它的用法非常简单，基本语法如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">file filename </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>查看 test 文件格式：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">file ./test  </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="26、tar-对文件压缩解压缩"><a href="#26、tar-对文件压缩解压缩" class="headerlink" title="26、tar - 对文件压缩解压缩"></a>26、tar - 对文件压缩解压缩</h3><p>该命令用于对文件进行打包，默认情况并不会压缩，如果指定了相应的参数，它还会调用相应的压缩程序（如 gzip 和 bzip 等）进行压缩和解压。它的常用参数如下：</p>
<ul>
<li>  -c ：新建打包文件</li>
<li>  -t ：查看打包文件的内容含有哪些文件名</li>
<li>  -x ：解打包或解压缩的功能，可以搭配 - C（大写）指定解压的目录</li>
<li>  -j ：通过 bzip2 的支持进行压缩 / 解压缩</li>
<li>  -z ：通过 gzip 的支持进行压缩 / 解压缩</li>
<li>  -v ：在压缩 / 解压缩过程中，将正在处理的文件名显示出来</li>
<li>  -f filename ：filename 为要处理的文件</li>
<li>  -C dir ：指定压缩 / 解压缩的目录 dir</li>
</ul>
<p><strong>注意：-c,-t,-x 不能同时出现在同一条命令中</strong></p>
<p>通常我们只需要记住下面几条命令即可：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># 压缩</span><br><span class="line">tar -jcv -f filename.tar.bz2 要被处理的文件或目录名称  </span><br><span class="line"># 查询</span><br><span class="line">tar -jtv -f filename.tar.bz2  </span><br><span class="line"># 解压</span><br><span class="line">tar -jxv -f filename.tar.bz2 -C 欲解压缩的目录  </span><br><span class="line"># 注：上面文件名并不定要以后缀tar.bz2结尾，这里主要是为了说明使用的压缩程序为bzip2</span><br><span class="line"></span><br><span class="line"># 解压elasticsearch-5.5.2.tar.gz</span><br><span class="line">tar -zxvf elasticsearch-5.5.2.tar.gz</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="27、zip-unzip-gzip-gunzip-对文件压缩解压缩"><a href="#27、zip-unzip-gzip-gunzip-对文件压缩解压缩" class="headerlink" title="27、zip/unzip/gzip/gunzip - 对文件压缩解压缩"></a>27、zip/unzip/gzip/gunzip - 对文件压缩解压缩</h3><p>用于压缩、解压缩文件，zip 压缩的后文件是 *.zip ，而 gzip 压缩后的文件 *.gz，相应的解压缩命令则是 gunzip 和 unzip。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"># 将 /home/html/ 这个目录下所有文件和文件夹打包为当前目录下的 html.zip：</span><br><span class="line">zip -q -r html.zip /home/html</span><br><span class="line">zip -r MiniGPT-4.zip ./MiniGPT-4/</span><br><span class="line"></span><br><span class="line"># 如果在我们在 /home/html 目录下，可以执行以下命令：</span><br><span class="line">zip -q -r html.zip *</span><br><span class="line"></span><br><span class="line"># 从压缩文件 cp.zip 中删除文件 a.c</span><br><span class="line">zip -dv cp.zip a.c</span><br><span class="line"></span><br><span class="line"># 将当前目录下的所有文件和文件夹全部压缩成myfile.zip文件,-r表示递归压缩子目录下所有文件</span><br><span class="line">zip -r myfile.zip ./*</span><br><span class="line"></span><br><span class="line"># 把myfile.zip文件解压到 /home/bunny/</span><br><span class="line"># -o:不提示的情况下覆盖文件</span><br><span class="line"># -d:-d /home/bunny 指明将文件解压缩到/home/bunny目录下</span><br><span class="line">unzip -o -d /home/bunny myfile.zip</span><br><span class="line"></span><br><span class="line"># 它会将文件压缩为文件 test.txt.gz，原来的文件则没有了，解压缩也一样 </span><br><span class="line">gzip test.txt </span><br><span class="line"></span><br><span class="line"># 它会将文件解压缩为文件 test.txt，原来的文件则没有了，为了保留原有的文件，</span><br><span class="line"># 我们可以加上 -c 选项并利用 linux 的重定向 </span><br><span class="line">gunzip test.txt.gz </span><br><span class="line"></span><br><span class="line"># 这样不但可以将原有的文件保留，而且可以将压缩包放到任何目录中，解压缩也一样 </span><br><span class="line">gzip -c test.txt &gt; /root/test.gz</span><br><span class="line"></span><br><span class="line"># 解压缩</span><br><span class="line">gunzip -c /root/test.gz &gt; ./test.txt </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="28、adduser-useradd-userdel-增加删除用户"><a href="#28、adduser-useradd-userdel-增加删除用户" class="headerlink" title="28、adduser/useradd/userdel - 增加删除用户"></a>28、adduser/useradd/userdel - 增加删除用户</h3><p>adduser/useradd 为创建用户命令，使用权限：系统管理员，root 用户。<strong>常用参数说明如下</strong>：</p>
<ul>
<li>  -c comment：加上备注文字。备注文字会保存在通常是 /etc/passwd）的备注栏位中。</li>
<li>  -d home_dir：设定使用者的根目录为 home_dir ，预设值为预设的 home 后面加上使用者帐号</li>
<li>  -e expire_date：设定此帐号的使用期限（格式为 YYYY-MM-DD），预设值为永久有效</li>
<li>  -f inactive_time：帐号过期几日后永久停权。当值为 0 时帐号则立刻被停权。而当值为 - 1 时则关闭此功能，预设值为 - 1</li>
<li>  -g &lt;群组&gt;：指定用户所属的群组。</li>
<li>  -r ：建立一个系统的帐号，这个帐号的 UID 会有限制 (/etc/login.defs)</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 添加一个一般用户</span><br><span class="line">useradd kk # 添加用户kk</span><br><span class="line"></span><br><span class="line"># 为添加的用户指定相应的用户组</span><br><span class="line">useradd -g root kk # 添加用户kk，并指定用户所在的组为root用户组</span><br><span class="line"></span><br><span class="line"># 创建一个系统用户</span><br><span class="line">useradd -r kk # 创建一个系统用户kk</span><br><span class="line"></span><br><span class="line"># 为新添加的用户指定/home目录</span><br><span class="line">useradd -d /home/myf kk //新添加用户kk，其home目录为/home/myf</span><br><span class="line"># 当用户名kk登录主机时，系统进入的默认目录为/home/myf</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>用户删除命令：userdel，语法如下:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">userdel [login ID]</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>删除用户 kk:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">userdel kk</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="29、passwd-修改用户密码"><a href="#29、passwd-修改用户密码" class="headerlink" title="29、passwd - 修改用户密码"></a>29、passwd - 修改用户密码</h3><p>更改使用者的密码，常用参数如下：</p>
<ul>
<li>  -d：删除密码</li>
<li>  -l：停止账号使用</li>
<li>  -S：显示密码信息</li>
<li>  -u：启用已被停止的账户</li>
<li>  -x：设置密码的有效期</li>
<li>  -g：修改群组密码</li>
<li>  -i：过期后停止用户账号</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 修改用户密码</span><br><span class="line">passwd runoob  # 设置runoob用户的密码</span><br><span class="line"></span><br><span class="line"># 显示账号密码信息</span><br><span class="line">passwd -S runoob</span><br><span class="line"></span><br><span class="line"># 删除用户密码</span><br><span class="line">passwd -d lx138 </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="30、time-测算一个命令的执行时间"><a href="#30、time-测算一个命令的执行时间" class="headerlink" title="30、time - 测算一个命令的执行时间"></a><strong>30、time - 测算一个命令的执行时间</strong></h3><p>该命令用于测算一个命令的执行时间。就像平时输入命令一样，不过在命令的前面加入一个 time 即可。</p>
<p>在程序或命令运行结束后，在最后输出了三个时间，它们分别是：</p>
<ul>
<li>  user：用户 CPU 时间，命令执行完成花费的用户 CPU 时间，即命令在用户态中执行时间总和；</li>
<li>  system：系统 CPU 时间，命令执行完成花费的系统 CPU 时间，即命令在核心态中执行时间总和；</li>
<li>  real：实际时间，从 command 命令行开始执行到运行终止的消逝时间；</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">time ./process.sh # 查看process.sh脚本执行时间</span><br><span class="line">time ps aux # 查看ps aux命令的执行时间</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="31、free-显示内存的使用情况"><a href="#31、free-显示内存的使用情况" class="headerlink" title="31、free - 显示内存的使用情况"></a>31、free - 显示内存的使用情况</h3><p>显示内存的使用情况，包括实体内存，虚拟的交换文件内存，共享内存区段，以及系统核心使用的缓冲区等。</p>
<p><strong>参数说明</strong>：</p>
<ul>
<li>  -b：以 Byte 为单位显示内存使用情况。</li>
<li>  -k：以 KB 为单位显示内存使用情况。</li>
<li>  -m ：以 MB 为单位显示内存使用情况。</li>
<li>  -g ：以 GB 为单位显示内存使用情况。</li>
<li>  -o ：不显示缓冲区调节列。</li>
<li>  -s &lt;间隔秒数&gt;：持续观察内存使用状况。</li>
<li>  -t：显示内存总和列。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 显示内存使用情况</span><br><span class="line">free # 显示内存使用信息</span><br><span class="line"></span><br><span class="line"># 以总和的形式显示内存的使用信息</span><br><span class="line">free -gt # 以总和的形式查询内存的使用信息,以GB为单位</span><br><span class="line"></span><br><span class="line"># 周期性的查询内存使用信息</span><br><span class="line">free -g -s 10 # 每10s执行一次命令,以GB为单位</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="32、crontab-定时任务"><a href="#32、crontab-定时任务" class="headerlink" title="32、crontab - 定时任务"></a>32、crontab - 定时任务</h3><p>用来定时的去跑一些脚本或者程序，linux 内置的 cron 进程能帮我们实现这些需求，精确到分，设计秒的我们一般自己写脚本。</p>
<p>相关配置文件说明：</p>
<ul>
<li>  /var/spool/cron / 目录下存放的是每个用户包括 root 的 crontab 任务，每个任务以创建者的名字命名</li>
<li>  /etc/crontab 这个文件负责调度各种管理和维护任务。</li>
<li>  /etc/cron.d/ 这个目录用来存放任何要执行的 crontab 文件或脚本。</li>
<li>  我们还可以把脚本放在 / etc/cron.hourly、/etc/cron.daily、/etc/cron.weekly、/etc/cron.monthly 目录中，让它每小时 / 天 / 星期、月执行一次。</li>
</ul>
<p>常用参数说明：</p>
<ul>
<li>  -u ：省略该参数，表示操作当前用户的 crontab</li>
<li>  -e：编辑某个用户的 crontab 文件内容。如果不指定用户，则表示编辑当前用户的 crontab 文件。</li>
<li>  -l：显示某个用户的 crontab 文件内容，如果不指定用户，则表示显示当前用户的 crontab 文件内容。</li>
<li>  -r：从 / var/spool/cron 目录中删除某个用户的 crontab 文件，如果不指定用户，则默认删除当前用户的 crontab 文件。</li>
<li>  -i：在删除用户的 crontab 文件时给确认提示</li>
</ul>
<p><strong>注意：-r，-i 尽量不要执行</strong></p>
<p>常见操作命令如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">crontab -e  # 编辑定时任务</span><br><span class="line">* * * * * sh /opt/lampp/test.sh   # 每分钟执行一次test.sh，crontab使用</span><br><span class="line"></span><br><span class="line">crontab -l  # 查看定时任务</span><br><span class="line">* * * * * sh /opt/lampp/test.sh</span><br><span class="line"></span><br><span class="line"># 重启定时任务进程crond</span><br><span class="line">service crond reload</span><br><span class="line"></span><br><span class="line"># 查看日志</span><br><span class="line"># /var/log/cron只会记录是否执行了某些计划的脚本</span><br><span class="line">sudo tail -100f /var/log/cron</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>定时任务配置实例如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"># Example of job definition:</span><br><span class="line"># .---------------- minute (0 - 59)</span><br><span class="line"># |  .------------- hour (0 - 23)</span><br><span class="line"># |  |  .---------- day of month (1 - 31)</span><br><span class="line"># |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...</span><br><span class="line"># |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat</span><br><span class="line"># |  |  |  |  |</span><br><span class="line"># *  *  *  *  * user-name  command to be executed</span><br><span class="line"></span><br><span class="line"># 每1分钟执行一次myCommand</span><br><span class="line">* * * * * myCommand</span><br><span class="line"></span><br><span class="line"># 每小时的第3和第15分钟执行</span><br><span class="line">3,15 * * * * myCommand</span><br><span class="line"></span><br><span class="line"># 在上午8点到11点的第3和第15分钟执行</span><br><span class="line">3,15 8-11 * * * myCommand</span><br><span class="line"></span><br><span class="line"># 每隔两天的上午8点到11点的第3和第15分钟执行</span><br><span class="line">3,15 8-11 */2  *  * myCommand</span><br><span class="line"></span><br><span class="line"># 每周一上午8点到11点的第3和第15分钟执行</span><br><span class="line">3,15 8-11 * * 1 myCommand</span><br><span class="line"></span><br><span class="line"># 每晚的21:30重启smb</span><br><span class="line">30 21 * * * /etc/init.d/smb restart</span><br><span class="line"></span><br><span class="line"># 每月1、10、22日的4 : 45重启smb</span><br><span class="line">45 4 1,10,22 * * /etc/init.d/smb restart</span><br><span class="line"></span><br><span class="line"># 每周六、周日的1 : 10重启smb</span><br><span class="line">10 1 * * 6,0 /etc/init.d/smb restart</span><br><span class="line"># 每天18 : 00至23 : 00之间每隔30分钟重启smb</span><br><span class="line">0,30 18-23 * * * /etc/init.d/smb restart</span><br><span class="line"></span><br><span class="line"># 每星期六的晚上11 : 00 pm重启smb</span><br><span class="line">0 23 * * 6 /etc/init.d/smb restart</span><br><span class="line"></span><br><span class="line"># 每一小时重启smb</span><br><span class="line">* */1 * * * /etc/init.d/smb restart</span><br><span class="line"></span><br><span class="line"># 晚上11点到早上7点之间，每隔一小时重启smb</span><br><span class="line">* 23-7/1 * * * /etc/init.d/smb restart</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<div class="article-footer reveal fs14"><section id="share"><div class="header"><span>分享文章</span></div><div class="body"><div class="link"><input class="copy-area" readonly="true" id="copy-link" value="https://su3.cn/2024/08/05/20240805/" /></div><div class="social-wrap dis-select"><a class="social share-item wechat" onclick="util.toggle(&quot;qrcode-wechat&quot)"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.4/social/b32ef3da1162a.svg"/></a><a class="social share-item weibo" target="_blank" rel="external nofollow noopener noreferrer" href="https://service.weibo.com/share/share.php?url=https://su3.cn/2024/08/05/20240805/&title=Linux 常用命令 - 苏三博客&summary=Linux 常用命令"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.4/social/80c07e4dbb303.svg"/></a><a class="social share-item email" href="mailto:?subject=Linux 常用命令 - 苏三博客&amp;body=https://su3.cn/2024/08/05/20240805/"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.4/social/a1b00e20f425d.svg"/></a><a class="social share-item link" onclick="util.copy(&quot;copy-link&quot;, &quot;复制成功&quot;)"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.4/social/8411ed322ced6.svg"/></a></div><div class="qrcode" id="qrcode-wechat" style="visibility:hidden;height:0"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://api.qrserver.com/v1/create-qr-code/?size=256x256&data=https://su3.cn/2024/08/05/20240805/"/></div></div></section></div>

</article>

<div class="related-wrap reveal" id="read-next"><section class="body"><div class="item" id="prev"><div class="note">较新文章</div><a href="/2024/08/06/20240806/">Java折叠代码块</a></div><div class="item" id="next"><div class="note">较早文章</div><a href="/2024/08/02/2024080205/">java内部类</a></div></section></div>






  <div class='related-wrap md-text reveal' id="comments">
    <section class='header cmt-title cap theme'>
      快来参与讨论吧
    </section>
    <section class='body cmt-body giscus'>
      

<svg class="loading" style="vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2709"><path d="M832 512c0-176-144-320-320-320V128c211.2 0 384 172.8 384 384h-64zM192 512c0 176 144 320 320 320v64C300.8 896 128 723.2 128 512h64z" p-id="2710"></path></svg>

<div id="giscus" data-repo="zhhltc/blogcomments" data-repo-id="R_kgDOI35Puw" data-category="Announcements" data-category-id="DIC_kwDOI35Pu84CT54y" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="preferred_color_scheme" data-lang="zh-CN" data-loading="lazy" crossorigin="anonymous"></div>

    </section>
  </div>



      
<footer class="page-footer reveal fs12"><hr><div class="text"><div class="BeiAn-info" style="display: flex;text-align: center;margin:10px;justify-content: center; align-items: center;"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/p/imgs/beian.png" title="备案管理系统" style="width:15px;height:15px;"> <a href="http://beian.miit.gov.cn/" style="text-decoration:none;" target=_blank title=备案号>赣ICP备17016237号-1</a></div><div  style="display: flex;text-align: center;justify-content: center; align-items: center;"><span id="timeDate">载入天数...</span>|<span id="times">载入时分秒...</span><span class="post-meta-divider">|</span><span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span><span class="post-meta-divider">|</span><span id="busuanzi_container_site_uv" style="display:none">本站访客数<span id="busuanzi_value_site_uv"></span>人</span></div><script type="text/javascript" src="/js/jquery-3.5.1.min.js"></script><script type="text/javascript" src="/js/dist/zoomify.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></footer>

<!--添加网站运行时间 -->
<!--<br/>-->

<script>
    var now = new Date();

    function createtime() {
        var grt = new Date("11/01/2021 12:00:00");
        now.setTime(now.getTime() + 250);
        days = (now - grt) / 1000 / 60 / 60 / 24;
        dnum = Math.floor(days);
        hours = (now - grt) / 1000 / 60 / 60 - (24 * dnum);
        hnum = Math.floor(hours);
        if (String(hnum).length == 1) {
            hnum = "0" + hnum;
        }
        minutes = (now - grt) / 1000 / 60 - (24 * 60 * dnum) - (60 * hnum);
        mnum = Math.floor(minutes);
        if (String(mnum).length == 1) {
            mnum = "0" + mnum;
        }
        seconds = (now - grt) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
        snum = Math.round(seconds);
        if (String(snum).length == 1) {
            snum = "0" + snum;
        }
        document.getElementById("timeDate").innerHTML = "本站已安全运行 " + dnum + " 天 ";
        document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒";
    }
    setInterval("createtime()", 250);
</script>
<!-- 添加网站运行时间》 -->

<style>
  /*返回顶部的css*/
.All_url_totop{
position:fixed;right:10px;width: 35px;height: 35px; border-radius: 5px; position: fixed;right: 10px; cursor: pointer;background-repeat: no-repeat; background-position: 50% 50%; background-color: #000; opacity: .1; transition: opacity .2s ease-in-out;z-index: 99999;
}
#All_url_totop{
background-image:url(data:img/png;base64,R0lGODlhEgAUAJEAAAAAAP///////wAAACH5BAEAAAIALAAAAAASABQAAAImjI+py+IPo4xmWmRpyq5dFkzgoY3VY5KS9ykcKy6vnMEr3W417hQAOw==);
top:384px;
}
#All_url_totop2{
background-image:url(data:img/png;base64,R0lGODlhEgAUAJEAAAAAAP///////wAAACH5BAEAAAIALAAAAAASABQAAAIqlB2peX27nINKNsoswnrTLmABKJKcJH5PGl3siKZdabZgWN2rzuPv/yoAADs=);
top:429px;
}
#All_url_totop:hover,
#All_url_totop2:hover{
opacity: .5;
}
</style>

<script>
 if (!window.location.href.includes("music")) {
        window.onload = function () {
          /*添加返回顶部按钮*/
          var a = document.createElement("a");
          a.setAttribute("href", "JavaScript:window.scrollTo(0,0);");
          a.setAttribute("id", "All_url_totop")
          a.setAttribute("class", "All_url_totop");
          document.body.appendChild(a);
          /*添加返回底部的按钮*/
          var a = document.createElement("a");
          a.setAttribute("href", "JavaScript:window.scrollTo(0,document.body.scrollHeight);");
          a.setAttribute("id", "All_url_totop2")
          a.setAttribute("class", "All_url_totop");
          document.body.appendChild(a);
        }
      }
</script>

        
        <div class='float-panel mobile-only blur' style='display:none'>
  <button type='button' class='sidebar-toggle mobile' onclick='sidebar.toggle()'>
    <svg class="icon" style="width: 1em; height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15301"><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 2.3 26.8 24.6 47.5 51.6 47.6h416.5v4z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15302"></path><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 1.9 27.7 23.9 49.7 51.6 51.6h416.5z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15303"></path></svg>
  </button>
</div>

      
    </div>
  </div>
  <div class='scripts'>
    <script type="text/javascript">
  const stellar = {
    // 懒加载 css https://github.com/filamentgroup/loadCSS
    loadCSS: (href, before, media, attributes) => {
      var doc = window.document;
      var ss = doc.createElement("link");
      var ref;
      if (before) {
        ref = before;
      } else {
        var refs = (doc.body || doc.getElementsByTagName("head")[0]).childNodes;
        ref = refs[refs.length - 1];
      }
      var sheets = doc.styleSheets;
      if (attributes) {
        for (var attributeName in attributes) {
          if (attributes.hasOwnProperty(attributeName)) {
            ss.setAttribute(attributeName, attributes[attributeName]);
          }
        }
      }
      ss.rel = "stylesheet";
      ss.href = href;
      ss.media = "only x";
      function ready(cb) {
        if (doc.body) {
          return cb();
        }
        setTimeout(function () {
          ready(cb);
        });
      }
      ready(function () {
        ref.parentNode.insertBefore(ss, before ? ref : ref.nextSibling);
      });
      var onloadcssdefined = function (cb) {
        var resolvedHref = ss.href;
        var i = sheets.length;
        while (i--) {
          if (sheets[i].href === resolvedHref) {
            return cb();
          }
        }
        setTimeout(function () {
          onloadcssdefined(cb);
        });
      };
      function loadCB() {
        if (ss.addEventListener) {
          ss.removeEventListener("load", loadCB);
        }
        ss.media = media || "all";
      }
      if (ss.addEventListener) {
        ss.addEventListener("load", loadCB);
      }
      ss.onloadcssdefined = onloadcssdefined;
      onloadcssdefined(loadCB);
      return ss;
    },

    // 从 butterfly 和 volantis 获得灵感
    loadScript: (src, opt) => new Promise((resolve, reject) => {
      var script = document.createElement('script');
      if (src.startsWith('/')){
        src = stellar.config.root + src.substring(1);
      }
      script.src = src;
      if (opt) {
        for (let key of Object.keys(opt)) {
          script[key] = opt[key]
        }
      } else {
        // 默认异步，如果需要同步，第二个参数传入 {} 即可
        script.async = true
      }
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    }),

    // https://github.com/jerryc127/hexo-theme-butterfly
    jQuery: (fn) => {
      if (typeof jQuery === 'undefined') {
        stellar.loadScript(stellar.plugins.jQuery).then(fn)
      } else {
        fn()
      }
    }
  };
  stellar.version = '1.19.0';
  stellar.github = 'https://github.com/xaoxuu/hexo-theme-stellar/tree/1.19.0';
  stellar.config = {
    date_suffix: {
      just: '刚刚',
      min: '分钟前',
      hour: '小时前',
      day: '天前',
      month: '个月前',
    },
    root : '/',
  };

  // required plugins (only load if needs)
  stellar.plugins = {
    jQuery: 'https://gcore.jsdelivr.net/npm/jquery@3.6.2/dist/jquery.min.js'
  };

  if ('local_search') {
    stellar.search = {};
    stellar.search.service = 'local_search';
    if (stellar.search.service == 'local_search') {
      let service_obj = Object.assign({}, {"field":"all","path":"/search.json","content":true,"sort":"-date"});
      stellar.search[stellar.search.service] = service_obj;
    }
  }

  // stellar js
  stellar.plugins.stellar = Object.assign({"sites":"/js/plugins/sites.js","friends":"/js/plugins/friends.js","ghinfo":"/js/plugins/ghinfo.js","timeline":"/js/plugins/timeline.js","linkcard":"/js/plugins/linkcard.js","fcircle":"/js/plugins/fcircle.js","weibo":"/js/plugins/weibo.js"});

  stellar.plugins.marked = Object.assign("https://cdn.bootcdn.net/ajax/libs/marked/4.0.18/marked.min.js");
  // optional plugins
  if ('true' == 'true') {
    stellar.plugins.lazyload = Object.assign({"enable":true,"js":"https://gcore.jsdelivr.net/npm/vanilla-lazyload@17.8.3/dist/lazyload.min.js","transition":"blur"});
  }
  if ('true' == 'true') {
    stellar.plugins.swiper = Object.assign({"enable":true,"css":"https://unpkg.com/swiper@8.4.5/swiper-bundle.min.css","js":"https://unpkg.com/swiper@8.4.5/swiper-bundle.min.js"});
  }
  if ('' == 'true') {
    stellar.plugins.scrollreveal = Object.assign({"enable":null,"js":"https://gcore.jsdelivr.net/npm/scrollreveal@4.0.9/dist/scrollreveal.min.js","distance":"8px","duration":500,"interval":100,"scale":1});
  }
  if ('true' == 'true') {
    stellar.plugins.preload = Object.assign({"enable":true,"service":"flying_pages","instant_page":"https://gcore.jsdelivr.net/gh/volantis-x/cdn-volantis@4.1.2/js/instant_page.js","flying_pages":"https://gcore.jsdelivr.net/gh/gijo-varghese/flying-pages@2.1.2/flying-pages.min.js"});
  }
  if ('true' == 'true') {
    stellar.plugins.fancybox = Object.assign({"enable":true,"js":"https://gcore.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js","css":"https://gcore.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.css","selector":".swiper-slide img"});
  }
  if ('false' == 'true') {
    stellar.plugins.heti = Object.assign({"enable":false,"css":"https://unpkg.com/heti@0.9.2/umd/heti.min.css","js":"https://unpkg.com/heti@0.9.2/umd/heti-addon.min.js"});
  }
  if ('true' == 'true') {
    stellar.plugins.copycode = Object.assign({"enable":true,"js":"/js/plugins/copycode.js","default_text":"Copy","success_text":"Copied"});
  }
</script>

<!-- required -->

  
<script src="/js/main.js" async></script>



<!-- optional -->

  <script>
  function loadJS() {
    const els = document.querySelectorAll("#comments #giscus");
    if (els.length === 0) return;
    els.forEach((el, i) => {
      try {
        el.innerHTML = '';
      } catch (error) {
        console.log(error);
      }
      var script = document.createElement('script');
      script.src = 'https://giscus.app/client.js';
      script.async = true;
      for (let key of Object.keys(el.attributes)) {
        let attr = el.attributes[key];
        if (['class', 'id'].includes(attr.name) === false) {
          script.setAttribute(attr.name, attr.value);
        }
      }
      el.appendChild(script);
    });
  }
  window.addEventListener('DOMContentLoaded', (event) => {
    loadJS();
  });
</script>




<!-- inject -->


  </div>
</body>
</html>
