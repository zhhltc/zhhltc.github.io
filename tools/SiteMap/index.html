<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sitemap/robotsç”Ÿæˆå™¨ - è‹ä¸‰åšå®¢</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            padding: 40px;
            max-width: 900px;
            width: 100%;
        }

        h1 {
            color: #333;
            margin-bottom: 10px;
            font-size: 32px;
            text-align: center;
        }

        .subtitle {
            color: #666;
            text-align: center;
            margin-bottom: 30px;
            font-size: 14px;
        }

        .input-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            color: #555;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 14px;
        }

        input[type="text"], input[type="url"], input[type="number"], input[type="date"], select, textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 15px;
            transition: border-color 0.3s;
        }

        input[type="text"]:focus, input[type="url"]:focus, input[type="number"]:focus, input[type="date"]:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #667eea;
        }
        
        input[type="date"] {
            cursor: pointer;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }
        
        input[type="date"]::-webkit-calendar-picker-indicator {
            cursor: pointer;
            font-size: 16px;
        }
        
        textarea {
            font-family: 'Courier New', Consolas, monospace;
            resize: vertical;
            min-height: 100px;
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        button {
            flex: 1;
            padding: 14px 28px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #f5f5f5;
            color: #555;
        }

        .btn-secondary:hover {
            background: #e0e0e0;
        }

        .btn-success {
            background: #4caf50;
            color: white;
        }

        .btn-success:hover {
            background: #45a049;
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(76, 175, 80, 0.4);
        }

        .info-box {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 5px;
            font-size: 14px;
            color: #1565c0;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 5px;
            font-size: 13px;
            color: #856404;
        }

        .settings-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
        }
        
        .date-priority-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .loading {
            display: none;
            text-align: center;
            margin-top: 20px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .loading.show {
            display: block;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .progress-text {
            color: #667eea;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .crawl-status {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            font-size: 13px;
        }

        .status-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }

        .status-item:last-child {
            border-bottom: none;
        }

        .status-label {
            color: #666;
        }

        .status-value {
            color: #333;
            font-weight: 600;
        }

        .result-area {
            margin-top: 30px;
            display: none;
        }

        .result-area.show {
            display: block;
        }

        .url-list {
            background: #f8f9fa;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 20px;
            max-height: 300px;
            overflow-y: auto;
            margin-bottom: 20px;
        }

        .url-item {
            padding: 8px;
            margin-bottom: 5px;
            background: white;
            border-radius: 5px;
            font-size: 13px;
            word-break: break-all;
        }

        .result-preview {
            background: #f8f9fa;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 20px;
            max-height: 400px;
            overflow-y: auto;
            font-family: monospace;
            font-size: 12px;
            white-space: pre-wrap;
            word-break: break-all;
            width: 100%;
            box-sizing: border-box;
            resize: vertical;
        }
        
        .result-preview:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        @media (max-width: 768px) {
            .container {
                padding: 25px;
            }

            .settings-grid {
                grid-template-columns: 1fr;
            }
            
            .date-priority-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
        }

        .error-message {
            background: #f8d7da;
            color: #721c24;
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            display: none;
        }

        .error-message.show {
            display: block;
        }

        .debug-console {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            max-height: 400px;
            overflow-y: auto;
            font-family: 'Courier New', Consolas, monospace;
            font-size: 11px;
            line-height: 1.5;
            display: none;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.2);
        }

        .debug-console.show {
            display: block;
        }

        .debug-console pre {
            margin: 0;
            white-space: pre-wrap;
            word-break: break-word;
            color: #d4d4d4;
        }
        
        .debug-console::-webkit-scrollbar {
            width: 10px;
        }
        
        .debug-console::-webkit-scrollbar-track {
            background: #1e1e1e;
        }
        
        .debug-console::-webkit-scrollbar-thumb {
            background: #555;
            border-radius: 5px;
        }
        
        .debug-console::-webkit-scrollbar-thumb:hover {
            background: #777;
        }

        .debug-toggle {
            margin-top: 10px;
            font-size: 13px;
        }

        .debug-toggle label {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            color: #666;
        }

        .debug-toggle input[type="checkbox"] {
            width: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ—ºï¸ Sitemap/robots ç”Ÿæˆå™¨</h1>
        <p class="subtitle">æ™ºèƒ½çˆ¬å–ç½‘ç«™é“¾æ¥ï¼Œè‡ªåŠ¨ç”Ÿæˆç¬¦åˆSEOæ ‡å‡†çš„XML Sitemap</p>

        <div class="info-box">
            ğŸ’¡ <strong>ä½¿ç”¨è¯´æ˜ï¼š</strong>è¾“å…¥ç½‘ç«™ä¸»åŸŸåï¼Œç³»ç»Ÿå°†è‡ªåŠ¨çˆ¬å–è¯¥ç½‘ç«™çš„æ‰€æœ‰é¡µé¢é“¾æ¥ï¼Œå¹¶ç”Ÿæˆç¬¦åˆGoogleå’Œç™¾åº¦ç­‰æœç´¢å¼•æ“æ ‡å‡†çš„sitemap.xml/p/robots.txtæ–‡ä»¶ã€‚
            <br><br>
            <strong>ä½¿ç”¨è¯´æ˜ï¼š</strong>å¦‚æœçˆ¬å–é€Ÿåº¦æ…¢ï¼Œè¯·åˆ·æ–°ä¸€ä¸‹ç½‘é¡µã€‚
            <br><br>
            <strong>sitemapï¼š</strong>æ”¾åœ¨ç½‘ç«™æ ¹ç›®å½•å’Œindexå…¥å£æ–‡ä»¶åŒçº§ï¼Œé¡¹ç›®ä¸­å¯ä»¥æ”¾åœ¨é™æ€èµ„æºæ–‡ä»¶å¤¹ä¸­ï¼Œä¾‹å¦‚public/sitemap.xmlã€‚sitemapæ–‡ä»¶ä½ç½®ä¹Ÿå¯ä»¥ç”±robots.txtä¸­æŒ‡å®šã€‚
            <br><br>
            <strong>robotsï¼š</strong>å¿…é¡»æ”¾åœ¨ç½‘ç«™æ ¹ç›®å½•ï¼Œå¹¶èƒ½è¢«å¤–ç½‘è®¿é—®åˆ°ï¼Œé¡¹ç›®ä¸­å¯ä»¥æ”¾åœ¨é™æ€èµ„æºæ–‡ä»¶å¤¹ä¸­ï¼Œä¾‹å¦‚public/robots.txtã€‚æ‰“åŒ…åä¼šè‡ªåŠ¨å‡ºç°åœ¨build/robots.txtã€‚
            <br><br>
            ğŸš€ <strong>å¿«é€Ÿæç¤ºï¼š</strong>å¦‚æœæ˜¯SPAåº”ç”¨ï¼ˆReact/Vue/Angularï¼‰ï¼Œå»ºè®®å‹¾é€‰"SPAå¿«é€Ÿæ¨¡å¼"ï¼Œå¯å¤§å¹…æå‡é€Ÿåº¦å¹¶é¿å…è¶…æ—¶é”™è¯¯ã€‚
        </div>

        <div class="warning-box">
            âš ï¸ <strong>é‡è¦æç¤ºï¼š</strong>
            <br>â€¢ çˆ¬å–åŠŸèƒ½ä½¿ç”¨CORSä»£ç†è§£å†³è·¨åŸŸé—®é¢˜ï¼Œå¦‚ç›®æ ‡ç½‘ç«™æ”¯æŒCORSï¼Œå¯å–æ¶ˆå‹¾é€‰"ä½¿ç”¨CORSä»£ç†"
            <br>â€¢ å¯¹äºSPAç½‘ç«™ï¼ˆReact/Vue/Angularï¼‰ï¼Œå»ºè®®å¯ç”¨"SPAå¿«é€Ÿæ¨¡å¼"
            <br>â€¢ å¦‚æœè‡ªåŠ¨çˆ¬å–ç»“æœä¸ç†æƒ³ï¼Œå¯ä½¿ç”¨"æ‰¹é‡æ·»åŠ "æˆ–"å¿«é€Ÿç”Ÿæˆ"åŠŸèƒ½
            <br>â€¢ <strong>ç½‘ç»œä¸å¥½ï¼š</strong>å–æ¶ˆ"ä½¿ç”¨CORSä»£ç†"é€‰é¡¹ï¼Œæˆ–ä½¿ç”¨"å¿«é€Ÿç”Ÿæˆ"åŠŸèƒ½
        </div>

        <div class="input-group">
            <label for="websiteUrl">ğŸŒ ç½‘ç«™ä¸»åŸŸå *</label>
            <input type="url" id="websiteUrl" placeholder="https://example.com" required>
        </div>

        <div class="settings-grid">
            <div class="input-group">
                <label for="maxDepth">çˆ¬å–æ·±åº¦</label>
                <input type="number" id="maxDepth" value="3" min="1" max="5" title="æœ€å¤§çˆ¬å–å±‚çº§ï¼Œå»ºè®®2-4å±‚">
            </div>

            <div class="input-group">
                <label for="maxPages">æœ€å¤§é¡µé¢æ•°</label>
                <input type="number" id="maxPages" value="100" min="10" max="1000" title="æœ€å¤šçˆ¬å–çš„é¡µé¢æ•°é‡">
            </div>

            <div class="input-group">
                <label for="defaultFreq">æ›´æ–°é¢‘ç‡</label>
                <select id="defaultFreq">
                    <option value="daily">æ¯å¤©</option>
                    <option value="weekly" selected>æ¯å‘¨</option>
                    <option value="monthly">æ¯æœˆ</option>
                    <option value="yearly">æ¯å¹´</option>
                </select>
            </div>
        </div>
        
        <div class="date-priority-grid">
            <div class="input-group" style="margin-bottom: 0;">
                <label for="lastmodDate">ğŸ“… æœ€åä¿®æ”¹æ—¥æœŸ (lastmod)</label>
                <div style="display: flex; gap: 8px; align-items: center; flex-wrap: wrap;">
                    <input type="date" id="lastmodDate" style="flex: 1; min-width: 150px;" title="è®¾ç½®sitemapä¸­çš„lastmodæ—¥æœŸ">
                    <button type="button" onclick="setToday()" style="padding: 8px 12px; background: #667eea; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 13px; white-space: nowrap;">ä»Šå¤©</button>
                    <button type="button" onclick="setYesterday()" style="padding: 8px 12px; background: #f5f5f5; color: #555; border: none; border-radius: 8px; cursor: pointer; font-size: 13px; white-space: nowrap;">æ˜¨å¤©</button>
                </div>
                <small style="color: #666; margin-top: 5px; display: block;">ğŸ’¡ æ­¤æ—¥æœŸå°†ç”¨äºæ‰€æœ‰URLçš„&lt;lastmod&gt;æ ‡ç­¾</small>
            </div>
            
            <div class="input-group" style="margin-bottom: 0;">
                <label for="defaultPriority">â­ ä¼˜å…ˆçº§ (priority)</label>
                <div style="display: flex; gap: 8px; align-items: center; flex-wrap: wrap;">
                    <input type="number" id="defaultPriority" min="0.0" max="1.0" step="0.1" value="0.8" style="flex: 1; min-width: 100px;" title="è®¾ç½®URLä¼˜å…ˆçº§ï¼ŒèŒƒå›´0.0-1.0">
                    <button type="button" onclick="setPriority(1.0)" style="padding: 8px 12px; background: #4caf50; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 13px; white-space: nowrap;">1.0</button>
                    <button type="button" onclick="setPriority(0.8)" style="padding: 8px 12px; background: #667eea; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 13px; white-space: nowrap;">0.8</button>
                    <button type="button" onclick="setPriority(0.5)" style="padding: 8px 12px; background: #f5f5f5; color: #555; border: none; border-radius: 8px; cursor: pointer; font-size: 13px; white-space: nowrap;">0.5</button>
                </div>
                <small style="color: #666; margin-top: 5px; display: block;">ğŸ’¡ ç‚¹å‡»æŒ‰é’®æˆ–è¾“å…¥æ•°å­—å°†è‡ªåŠ¨åˆ‡æ¢åˆ°å›ºå®šä¼˜å…ˆçº§æ¨¡å¼</small>
            </div>
        </div>
        
        <div class="input-group">
            <label style="display: flex; align-items: flex-start; cursor: pointer;">
                <input type="checkbox" id="autoCalculatePriority" checked style="width: auto; margin-right: 8px; margin-top: 2px;">
                <span>
                    <strong style="color: #667eea;">ğŸ“Š è‡ªåŠ¨è®¡ç®—ä¼˜å…ˆçº§</strong>
                    <br>
                    <small style="color: #666;">æ ¹æ®URLå±‚çº§æ·±åº¦è®¡ç®—ï¼Œé¦–é¡µ1.0ï¼Œä¸€çº§é¡µé¢0.9ï¼ŒäºŒçº§0.8...ï¼ˆå–æ¶ˆå‹¾é€‰ä»¥ä½¿ç”¨ä¸Šæ–¹è®¾ç½®çš„å›ºå®šå€¼ï¼‰</small>
                </span>
            </label>
            <div id="priorityModeIndicator" style="margin-top: 8px; padding: 8px 12px; background: #e3f2fd; border-left: 4px solid #2196f3; border-radius: 4px; font-size: 13px; display: none;">
                <strong>å½“å‰æ¨¡å¼ï¼š</strong><span id="priorityModeText"></span>
            </div>
        </div>
        
        <div class="input-group">
            <label>
                <input type="checkbox" id="useCommonPaths" checked style="width: auto; margin-right: 8px;">
                <span>å°è¯•å¸¸è§è·¯å¾„ï¼ˆå½“çˆ¬å–ç»“æœè¾ƒå°‘æ—¶è‡ªåŠ¨è¡¥å…… /about, /contact ç­‰å¸¸è§é¡µé¢ï¼‰</span>
            </label>
        </div>
        
        <div class="input-group">
            <label>
                <input type="checkbox" id="spaFastMode" checked style="width: auto; margin-right: 8px;">
                <span style="color: #667eea; font-weight: 600;">ğŸš€ SPAå¿«é€Ÿæ¨¡å¼ï¼ˆæ£€æµ‹åˆ°å•é¡µåº”ç”¨æ—¶ï¼Œç›´æ¥æ·»åŠ å¸¸è§è·¯ç”±ï¼Œæ— éœ€é€ä¸ªè®¿é—®ï¼‰</span>
            </label>
        </div>
        
        <div class="input-group">
            <label>
                <input type="checkbox" id="useCorsProxy" checked style="width: auto; margin-right: 8px;">
                <span style="color: #ff9800; font-weight: 600;">ğŸŒ ä½¿ç”¨CORSä»£ç†ï¼ˆå¦‚æœç›®æ ‡ç½‘ç«™æ”¯æŒCORSï¼Œå¯å–æ¶ˆå‹¾é€‰ä»¥æé«˜ç¨³å®šæ€§ï¼‰</span>
            </label>
            <small style="color: #666; display: block; margin-top: 5px;">ğŸ’¡ å–æ¶ˆå‹¾é€‰å°†ç›´æ¥è¯·æ±‚ç›®æ ‡ç½‘ç«™ï¼ˆéœ€è¦ç½‘ç«™å…è®¸è·¨åŸŸè®¿é—®ï¼‰</small>
        </div>

        <div class="button-group">
            <button class="btn-primary" id="startBtn" onclick="startCrawl()">ğŸš€ å¼€å§‹çˆ¬å–å¹¶ç”Ÿæˆ</button>
            <button class="btn-secondary" onclick="quickGenerate()">âš¡ å¿«é€Ÿç”Ÿæˆï¼ˆè·³è¿‡çˆ¬å–ï¼‰</button>
        </div>

        <div class="debug-toggle">
            <label>
                <input type="checkbox" id="debugMode" onchange="toggleDebugMode()">
                æ˜¾ç¤ºè°ƒè¯•æ—¥å¿—ï¼ˆå¸®åŠ©è¯Šæ–­é—®é¢˜ï¼‰
            </label>
        </div>

        <div class="debug-console" id="debugConsole">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; padding-bottom: 10px; border-bottom: 1px solid #444;">
                <span style="color: #4ec9b0;">ğŸ“ è°ƒè¯•æ§åˆ¶å°</span>
                <button onclick="clearDebugLog()" style="padding: 4px 12px; font-size: 11px; background: #444; color: #ddd; border: none; border-radius: 4px; cursor: pointer;">æ¸…ç©ºæ—¥å¿—</button>
            </div>
            <pre id="debugLog"></pre>
        </div>

        <div class="loading" id="loading">
            <div class="spinner"></div>
            <div class="progress-text" id="progressText">æ­£åœ¨åˆå§‹åŒ–...</div>
            <div class="crawl-status">
                <div class="status-item">
                    <span class="status-label">å·²å‘ç°é¡µé¢ï¼š</span>
                    <span class="status-value" id="foundCount">0</span>
                </div>
                <div class="status-item">
                    <span class="status-label">å·²çˆ¬å–é¡µé¢ï¼š</span>
                    <span class="status-value" id="crawledCount">0</span>
                </div>
                <div class="status-item">
                    <span class="status-label">å½“å‰æ·±åº¦ï¼š</span>
                    <span class="status-value" id="currentDepth">0</span>
                </div>
            </div>
        </div>

        <div class="error-message" id="errorMessage"></div>

        <div class="result-area" id="resultArea">
            <div class="info-box" id="domainInfo" style="margin-bottom: 20px;"></div>
            
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; flex-wrap: wrap; gap: 10px;">
                <h3 style="margin: 0; color: #333;">ğŸ“‹ çˆ¬å–åˆ°çš„URLåˆ—è¡¨ (<span id="urlCount">0</span> ä¸ªé¡µé¢)</h3>
                <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                    <button class="btn-small" onclick="showAddUrlDialog()" style="background: #667eea; color: white; padding: 6px 12px; border-radius: 6px; font-size: 13px;">+ æ·»åŠ å•ä¸ªURL</button>
                    <button class="btn-small" onclick="showBatchAddDialog()" style="background: #4caf50; color: white; padding: 6px 12px; border-radius: 6px; font-size: 13px;">ğŸ“ æ‰¹é‡æ·»åŠ </button>
                    <button class="btn-small" onclick="regenerateSitemap()" style="background: #ff9800; color: white; padding: 6px 12px; border-radius: 6px; font-size: 13px;">ğŸ”„ é‡æ–°ç”ŸæˆXML</button>
                </div>
            </div>
            <div class="url-list" id="urlList"></div>

            <!-- æ ‡ç­¾é¡µåˆ‡æ¢ -->
            <div style="display: flex; gap: 10px; margin-bottom: 20px; border-bottom: 2px solid #e0e0e0;">
                <button onclick="switchTab('sitemap')" id="tabSitemap" style="padding: 12px 24px; border: none; background: none; cursor: pointer; font-size: 15px; font-weight: 600; border-bottom: 3px solid #667eea; color: #667eea;">
                    ğŸ“„ Sitemap.xml
                </button>
                <button onclick="switchTab('robots')" id="tabRobots" style="padding: 12px 24px; border: none; background: none; cursor: pointer; font-size: 15px; font-weight: 600; border-bottom: 3px solid transparent; color: #666;">
                    ğŸ¤– Robots.txt
                </button>
            </div>

            <!-- Sitemapå†…å®¹ -->
            <div id="sitemapContent">
                <h3 style="margin-bottom: 15px; color: #333;">ğŸ“„ ç”Ÿæˆçš„ Sitemap.xml <span style="font-size: 13px; color: #999; font-weight: normal;">ï¼ˆå¯ç¼–è¾‘ï¼‰</span></h3>
                <textarea class="result-preview" id="resultPreview" spellcheck="false"></textarea>
                
                <div class="button-group">
                    <button class="btn-secondary" onclick="copyToClipboard()">ğŸ“‹ å¤åˆ¶XML</button>
                    <button class="btn-success" onclick="downloadSitemap()">ğŸ’¾ ä¸‹è½½ sitemap.xml</button>
                </div>
            </div>

            <!-- Robots.txtå†…å®¹ -->
            <div id="robotsContent" style="display: none;">
                <div class="info-box" style="margin-bottom: 20px;">
                    <strong>ğŸ“– Robots.txtè¯´æ˜ï¼š</strong>
                    <br>â€¢ <strong>User-agent</strong>ï¼šæŒ‡å®šæœç´¢å¼•æ“çˆ¬è™«
                    <br>â€¢ <strong>Allow</strong>ï¼šæ˜ç¡®å…è®¸çˆ¬å–çš„è·¯å¾„
                    <br>â€¢ <strong>Disallow</strong>ï¼šç¦æ­¢çˆ¬å–çš„è·¯å¾„
                    <br>â€¢ <strong>Crawl-delay</strong>ï¼šçˆ¬è™«è®¿é—®å»¶è¿Ÿï¼ˆç§’ï¼‰
                    <br>â€¢ <strong>Sitemap</strong>ï¼šæŒ‡å‘sitemap.xmlçš„ä½ç½®
                </div>
                
                <h3 style="margin-bottom: 15px; color: #333;">ğŸ¤– ç”Ÿæˆçš„ Robots.txt <span style="font-size: 13px; color: #999; font-weight: normal;">ï¼ˆå¯ç¼–è¾‘ï¼‰</span></h3>
                
                <!-- Robotsé…ç½®åŒº -->
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                    <h4 style="margin-bottom: 15px; color: #333;">ğŸ›ï¸ Robotsé…ç½®</h4>
                    
                    <!-- User-agenté€‰æ‹© -->
                    <div class="input-group">
                        <label><strong>ğŸ•·ï¸ ç›®æ ‡çˆ¬è™« (User-agent)</strong></label>
                        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 10px; margin-top: 10px;">
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" id="ua_all" value="*" checked onchange="handleUserAgentChange('ua_all')">
                                <span>âœ… æ‰€æœ‰çˆ¬è™« (*)</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" id="ua_none" value="*" onchange="handleUserAgentChange('ua_none')">
                                <span style="color: #f44336;">ğŸš« ç¦æ­¢æ‰€æœ‰çˆ¬è™«</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" id="ua_google" value="Googlebot" onchange="handleUserAgentChange('ua_google')">
                                <span>Google (Googlebot)</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" id="ua_bing" value="Bingbot" onchange="handleUserAgentChange('ua_bing')">
                                <span>Bing (Bingbot)</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" id="ua_baidu" value="Baiduspider" onchange="handleUserAgentChange('ua_baidu')">
                                <span>ç™¾åº¦ (Baiduspider)</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" id="ua_yandex" value="YandexBot" onchange="handleUserAgentChange('ua_yandex')">
                                <span>Yandex (YandexBot)</span>
                            </label>
                        </div>
                        <small style="color: #666; margin-top: 8px; display: block;">ğŸ’¡ "ç¦æ­¢æ‰€æœ‰çˆ¬è™«"ä¼šæ·»åŠ  Disallow: / è§„åˆ™</small>
                    </div>

                    <!-- çˆ¬å–å»¶è¿Ÿ -->
                    <div class="input-group">
                        <label for="crawlDelay"><strong>â±ï¸ çˆ¬å–å»¶è¿Ÿ (Crawl-delay)</strong></label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <input type="number" id="crawlDelay" min="0" max="10" step="1" value="0" style="width: 100px;" onchange="updateRobotsPreview()">
                            <span style="color: #666;">ç§’ï¼ˆ0è¡¨ç¤ºä¸é™åˆ¶ï¼Œå»ºè®®1-3ç§’ï¼‰</span>
                        </div>
                    </div>

                    <!-- Sitemapä½ç½® -->
                    <div class="input-group">
                        <label for="sitemapUrl"><strong>ğŸ—ºï¸ Sitemapä½ç½®</strong></label>
                        <input type="text" id="sitemapUrl" placeholder="https://example.com/sitemap.xml" onchange="updateRobotsPreview()">
                        <small style="color: #666; display: block; margin-top: 5px;">ğŸ’¡ ç•™ç©ºåˆ™è‡ªåŠ¨ç”Ÿæˆï¼Œæˆ–è¾“å…¥è‡ªå®šä¹‰sitemapåœ°å€</small>
                    </div>
                </div>

                <!-- è·¯å¾„è§„åˆ™é…ç½® -->
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                    <h4 style="margin-bottom: 15px; color: #333;">ğŸ“‚ è·¯å¾„è®¿é—®è§„åˆ™</h4>
                    
                    <div id="blockAllWarning" style="display: none; background: #fff3cd; border-left: 4px solid #ff9800; padding: 12px; margin-bottom: 15px; border-radius: 4px;">
                        <strong style="color: #f57c00;">âš ï¸ å½“å‰å·²å¯ç”¨"ç¦æ­¢æ‰€æœ‰çˆ¬è™«"æ¨¡å¼</strong>
                        <br>
                        <small style="color: #666;">å·²è‡ªåŠ¨æ·»åŠ  Disallow: / è§„åˆ™ï¼Œä¸‹æ–¹çš„è‡ªå®šä¹‰è§„åˆ™å°†è¢«å¿½ç•¥</small>
                    </div>
                    
                    <div style="display: flex; gap: 10px; margin-bottom: 15px; flex-wrap: wrap;">
                        <button onclick="showAddRuleDialog('disallow')" style="padding: 8px 16px; background: #f44336; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 14px; white-space: nowrap;">
                            ğŸš« æ·»åŠ ç¦æ­¢è§„åˆ™
                        </button>
                        <button onclick="showAddRuleDialog('allow')" style="padding: 8px 16px; background: #4caf50; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 14px; white-space: nowrap;">
                            âœ… æ·»åŠ å…è®¸è§„åˆ™
                        </button>
                        <button onclick="autoGenerateRules()" style="padding: 8px 16px; background: #667eea; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 14px; white-space: nowrap;">
                            ğŸ”§ æ™ºèƒ½ç”Ÿæˆè§„åˆ™
                        </button>
                        <button onclick="selectFromUrls()" style="padding: 8px 16px; background: #ff9800; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 14px; white-space: nowrap;">
                            ğŸ“‹ ä»URLåˆ—è¡¨é€‰æ‹©
                        </button>
                    </div>
                    
                    <div style="display: flex; gap: 10px; margin-bottom: 15px; flex-wrap: wrap;">
                        <button onclick="allowAllUrls()" style="padding: 8px 16px; background: #4caf50; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 14px; white-space: nowrap;">
                            âœ… å…¨éƒ¨å…è®¸çˆ¬å–
                        </button>
                        <button onclick="disallowAllUrls()" style="padding: 8px 16px; background: #f44336; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 14px; white-space: nowrap;">
                            ğŸš« å…¨éƒ¨ç¦æ­¢çˆ¬å–
                        </button>
                        <button onclick="clearAllRules()" style="padding: 8px 16px; background: #9e9e9e; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 14px; white-space: nowrap;">
                            ğŸ—‘ï¸ æ¸…ç©ºæ‰€æœ‰è§„åˆ™
                        </button>
                    </div>

                    <div id="rulesContainer" style="max-height: 300px; overflow-y: auto;"></div>
                </div>

                <!-- Robotsé¢„è§ˆ -->
                <textarea class="result-preview" id="robotsPreview" spellcheck="false"></textarea>
                
                <div class="button-group">
                    <button class="btn-secondary" onclick="copyRobots()">ğŸ“‹ å¤åˆ¶Robots.txt</button>
                    <button class="btn-success" onclick="downloadRobots()">ğŸ’¾ ä¸‹è½½ robots.txt</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let generatedXml = '';
        let discoveredUrls = new Set();
        let crawledUrls = new Set();
        let isProcessing = false;
        let validDomains = new Set(); // å­˜å‚¨æ‰€æœ‰æœ‰æ•ˆçš„åŸŸåï¼ˆåŒ…æ‹¬é‡å®šå‘åçš„åŸŸåï¼‰
        let debugMode = false;
        let debugLog = [];
        
        // ä¿å­˜åŸå§‹consoleæ–¹æ³•
        const originalConsoleLog = console.log;
        const originalConsoleWarn = console.warn;
        const originalConsoleError = console.error;
        
        // æ·»åŠ è°ƒè¯•æ—¥å¿—
        function addDebugLog(message, type = 'log') {
            const timestamp = new Date().toLocaleTimeString();
            const logEntry = `[${timestamp}] ${message}`;
            debugLog.push(logEntry);
            
            if (debugMode) {
                const debugLogElement = document.getElementById('debugLog');
                if (debugLogElement) {
                    debugLogElement.textContent = debugLog.join('\n');
                    debugLogElement.parentElement.scrollTop = debugLogElement.parentElement.scrollHeight;
                }
            }
            
            // åŒæ—¶è¾“å‡ºåˆ°åŸå§‹console
            if (type === 'error') {
                originalConsoleError(message);
            } else if (type === 'warn') {
                originalConsoleWarn(message);
            } else {
                originalConsoleLog(message);
            }
        }
        
        // é‡å†™consoleæ–¹æ³•
        console.log = function(...args) {
            addDebugLog(args.join(' '), 'log');
        };
        
        console.warn = function(...args) {
            addDebugLog('âš ï¸ ' + args.join(' '), 'warn');
        };
        
        console.error = function(...args) {
            addDebugLog('âŒ ' + args.join(' '), 'error');
        };
        
        // åˆ‡æ¢è°ƒè¯•æ¨¡å¼
        function toggleDebugMode() {
            debugMode = document.getElementById('debugMode').checked;
            const debugConsole = document.getElementById('debugConsole');
            
            if (debugMode) {
                debugConsole.classList.add('show');
                // æ˜¾ç¤ºå·²æœ‰çš„æ—¥å¿—
                document.getElementById('debugLog').textContent = debugLog.join('\n');
            } else {
                debugConsole.classList.remove('show');
            }
        }
        
        // æ¸…ç©ºè°ƒè¯•æ—¥å¿—
        function clearDebugLog() {
            debugLog = [];
            document.getElementById('debugLog').textContent = '';
            console.log('ğŸ§¹ è°ƒè¯•æ—¥å¿—å·²æ¸…ç©º');
        }

        // éªŒè¯URLæ ¼å¼
        function validateUrl(url) {
            try {
                new URL(url);
                return true;
            } catch (e) {
                return false;
            }
        }

        // æ ¼å¼åŒ–æ—¥æœŸä¸ºISOæ ¼å¼
        function formatDate(date) {
            return date.toISOString().split('T')[0];
        }

        // XMLè½¬ä¹‰
        function escapeXml(unsafe) {
            return unsafe
                .replace(/&/g, "&amp;")
                .replace(/</g, "&lt;")
                .replace(/>/g, "&gt;")
                .replace(/"/g, "&quot;")
                .replace(/'/g, "&apos;");
        }

        // æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯
        function showError(message) {
            const errorDiv = document.getElementById('errorMessage');
            errorDiv.textContent = message;
            errorDiv.classList.add('show');
            setTimeout(() => {
                errorDiv.classList.remove('show');
            }, 8000);
        }

        // æ›´æ–°çˆ¬å–çŠ¶æ€
        function updateStatus(found, crawled, depth) {
            document.getElementById('foundCount').textContent = found;
            document.getElementById('crawledCount').textContent = crawled;
            document.getElementById('currentDepth').textContent = depth;
        }

        // æ£€æŸ¥URLæ˜¯å¦å±äºæœ‰æ•ˆåŸŸå
        function isValidDomain(url) {
            try {
                const urlObj = new URL(url);
                return validDomains.has(urlObj.hostname);
            } catch (e) {
                return false;
            }
        }

        // ä»HTMLä¸­æå–é“¾æ¥ï¼ˆå¢å¼ºç‰ˆ - æ”¯æŒSPAåº”ç”¨ï¼‰
        function extractLinks(html, currentPageUrl) {
            const links = new Set();
            const parser = new DOMParser();
            const urlObj = new URL(currentPageUrl);
            const baseUrl = urlObj.origin;
            
            try {
                const doc = parser.parseFromString(html, 'text/html');
                
                console.log('=== å¼€å§‹æå–é“¾æ¥ ===');
                console.log('å½“å‰é¡µé¢:', currentPageUrl);
                console.log('HTMLé•¿åº¦:', html.length);
                
                // æ–¹æ³•1: æå–æ‰€æœ‰aæ ‡ç­¾çš„href
                const anchorTags = doc.querySelectorAll('a[href]');
                console.log('æ‰¾åˆ°<a>æ ‡ç­¾æ•°é‡:', anchorTags.length);
                
                let validLinkCount = 0;
                let skippedCount = 0;
                
                anchorTags.forEach((anchor, index) => {
                    try {
                        let href = anchor.getAttribute('href');
                        if (!href || href === '#' || href === '' || href.startsWith('javascript:') || href.startsWith('mailto:') || href.startsWith('tel:')) {
                            skippedCount++;
                            return;
                        }
                        
                        // å¤„ç†ç›¸å¯¹URL
                        const absoluteUrl = new URL(href, currentPageUrl);
                        
                        if (isValidDomain(absoluteUrl.href)) {
                            let cleanUrl = absoluteUrl.origin + absoluteUrl.pathname;
                            if (cleanUrl.endsWith('/') && cleanUrl.length > absoluteUrl.origin.length + 1) {
                                cleanUrl = cleanUrl.slice(0, -1);
                            }
                            if (cleanUrl === absoluteUrl.origin) {
                                cleanUrl = cleanUrl + '/';
                            }
                            
                            if (!cleanUrl.match(/\.(jpg|jpeg|png|gif|pdf|zip|doc|docx|xls|xlsx|css|js|ico|svg|woff|woff2|ttf|eot|mp4|mp3|avi|mov)$/i)) {
                                if (!links.has(cleanUrl)) {
                                    links.add(cleanUrl);
                                    validLinkCount++;
                                    if (validLinkCount <= 5) {
                                        console.log(`  âœ“ é“¾æ¥ ${validLinkCount}: ${cleanUrl}`);
                                    }
                                }
                            }
                        } else {
                            skippedCount++;
                        }
                    } catch (e) {
                        console.debug('  âœ— è§£æé“¾æ¥å‡ºé”™:', anchor.getAttribute('href'), e.message);
                    }
                });
                
                console.log(`<a>æ ‡ç­¾æå–: ${validLinkCount} ä¸ªæœ‰æ•ˆé“¾æ¥, ${skippedCount} ä¸ªè·³è¿‡`);
                
                // æ–¹æ³•2: æå–data-href, data-urlç­‰å±æ€§
                const dataElements = doc.querySelectorAll('[data-href], [data-url], [data-link], [data-to], [data-path]');
                let dataCount = 0;
                console.log('æ‰¾åˆ°data-*å±æ€§æ•°é‡:', dataElements.length);
                
                dataElements.forEach(el => {
                    ['data-href', 'data-url', 'data-link', 'data-to', 'data-path'].forEach(attr => {
                        const value = el.getAttribute(attr);
                        if (value && value.startsWith('/')) {
                            const fullUrl = baseUrl + value;
                            if (!links.has(fullUrl) && isValidDomain(fullUrl)) {
                                links.add(fullUrl);
                                dataCount++;
                            }
                        }
                    });
                });
                
                console.log(`data-*å±æ€§æå–: ${dataCount} ä¸ªé¢å¤–é“¾æ¥`);
                
                // æ–¹æ³•3: ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ä»HTMLä¸­æå–href
                const hrefRegex = /href=["']([^"']+)["']/gi;
                let match;
                let regexCount = 0;
                
                while ((match = hrefRegex.exec(html)) !== null) {
                    try {
                        const href = match[1];
                        if (href && href !== '#' && !href.startsWith('javascript:') && !href.startsWith('mailto:')) {
                            const absoluteUrl = new URL(href, currentPageUrl);
                            if (isValidDomain(absoluteUrl.href)) {
                                let cleanUrl = absoluteUrl.origin + absoluteUrl.pathname;
                                if (cleanUrl.endsWith('/') && cleanUrl.length > absoluteUrl.origin.length + 1) {
                                    cleanUrl = cleanUrl.slice(0, -1);
                                }
                                if (cleanUrl === absoluteUrl.origin) {
                                    cleanUrl = cleanUrl + '/';
                                }
                                if (!cleanUrl.match(/\.(jpg|jpeg|png|gif|pdf|zip|doc|docx|xls|xlsx|css|js|ico|svg|woff|woff2|ttf|eot|mp4|mp3|avi|mov)$/i)) {
                                    if (!links.has(cleanUrl)) {
                                        links.add(cleanUrl);
                                        regexCount++;
                                    }
                                }
                            }
                        }
                    } catch (e) {
                        // å¿½ç•¥
                    }
                }
                
                console.log(`æ­£åˆ™è¡¨è¾¾å¼æå–: ${regexCount} ä¸ªé¢å¤–é“¾æ¥`);
                
                // æ–¹æ³•4: æå–JavaScriptä¸­çš„è·¯ç”±è·¯å¾„ï¼ˆé’ˆå¯¹SPAï¼‰
                console.log('\nğŸ” å°è¯•æå–JavaScriptè·¯ç”±...');
                
                // æå–æ‰€æœ‰scriptæ ‡ç­¾çš„src
                const scripts = doc.querySelectorAll('script[src]');
                console.log(`æ‰¾åˆ° ${scripts.length} ä¸ªå¤–éƒ¨è„šæœ¬`);
                
                // å°è¯•ä»script srcä¸­æå–ä¸»bundleæ–‡ä»¶
                let mainJsUrl = null;
                scripts.forEach(script => {
                    const src = script.getAttribute('src');
                    if (src && (src.includes('index') || src.includes('main') || src.includes('app'))) {
                        mainJsUrl = new URL(src, currentPageUrl).href;
                        console.log(`  ğŸ“¦ å‘ç°ä¸»JSæ–‡ä»¶: ${mainJsUrl}`);
                    }
                });
                
                // ä»HTMLå’Œå†…è”è„šæœ¬ä¸­æŸ¥æ‰¾å¯èƒ½çš„è·¯ç”±è·¯å¾„æ¨¡å¼
                const routePatterns = [
                    // React Router / Vue Router å¸¸è§æ¨¡å¼
                    /path:\s*["']([\/][a-zA-Z0-9\-_\/\:]+)["']/gi,
                    /route:\s*["']([\/][a-zA-Z0-9\-_\/\:]+)["']/gi,
                    /to:\s*["']([\/][a-zA-Z0-9\-_\/\:]+)["']/gi,
                    /{path:["']([\/][^"']+)["']/gi,
                    // Link/RouterLinkç»„ä»¶
                    /<Link.*?to=["']([\/][^"']+)["']/gi,
                    /<router-link.*?to=["']([\/][^"']+)["']/gi,
                    // navigate/pushè°ƒç”¨
                    /navigate\(["']([\/][^"']+)["']/gi,
                    /push\(["']([\/][^"']+)["']/gi,
                    // å¸¸è§çš„è·¯ç”±æ•°ç»„å®šä¹‰
                    /routes\s*=\s*\[[\s\S]*?["']([\/][a-zA-Z0-9\-_\/]+)["']/gi,
                ];
                
                let routeCount = 0;
                const foundRoutes = new Set();
                
                // ä»HTMLä¸­æå–è·¯ç”±
                routePatterns.forEach(pattern => {
                    let routeMatch;
                    pattern.lastIndex = 0; // é‡ç½®æ­£åˆ™
                    
                    while ((routeMatch = pattern.exec(html)) !== null) {
                        let path = routeMatch[1];
                        
                        // æ¸…ç†å’ŒéªŒè¯è·¯å¾„
                        if (path && path.startsWith('/') && path.length > 1) {
                            // è¿‡æ»¤æ‰æ˜æ˜¾ä¸æ˜¯é¡µé¢è·¯å¾„çš„
                            if (path.includes('api/') || 
                                path.includes('/static/') || 
                                path.includes('/assets/') ||
                                path.match(/\.(js|css|png|jpg|jpeg|gif|svg|ico|woff|ttf)$/i) ||
                                path.match(/^\/\d+$/)) {  // çº¯æ•°å­—è·¯å¾„
                                continue;
                            }
                            
                            // ç§»é™¤å‚æ•°å ä½ç¬¦ (:id, :slugç­‰)
                            path = path.replace(/:\w+/g, '').replace(/\/+/g, '/').replace(/\/+$/, '') || '/';
                            
                            if (path.length >= 1 && !foundRoutes.has(path)) {
                                foundRoutes.add(path);
                                const fullUrl = baseUrl + (path === '/' ? '' : path);
                                if (!links.has(fullUrl) && isValidDomain(fullUrl)) {
                                    links.add(fullUrl);
                                    routeCount++;
                                    if (routeCount <= 10) {
                                        console.log(`  ğŸ¯ å‘ç°è·¯ç”±: ${path}`);
                                    }
                                }
                            }
                        }
                    }
                });
                
                // å¦‚æœHTMLä¸­æ²¡æœ‰æ‰¾åˆ°è·¯ç”±ï¼Œå°è¯•ä¸€äº›å¸¸è§çš„SPAè·¯ç”±
                if (routeCount === 0 && (html.includes('react') || html.includes('vue') || html.includes('angular'))) {
                    console.log('  ğŸ’¡ æ£€æµ‹åˆ°å‰ç«¯æ¡†æ¶ï¼Œæ·»åŠ å¸¸è§SPAè·¯ç”±...');
                    const commonSpaRoutes = ['/', '/home', '/about', '/contact', '/pricing', '/features', '/login', '/signup'];
                    commonSpaRoutes.forEach(route => {
                        const fullUrl = baseUrl + (route === '/' ? '' : route);
                        if (!links.has(fullUrl) && isValidDomain(fullUrl)) {
                            links.add(fullUrl);
                            routeCount++;
                        }
                    });
                }
                
                if (routeCount > 0) {
                    console.log(`âœ“ JavaScriptè·¯ç”±æå–: ${routeCount} ä¸ªè·¯å¾„`);
                } else {
                    console.log(`âœ— æœªèƒ½ä»JavaScriptä¸­æå–åˆ°è·¯ç”±`);
                    console.log(`  ğŸ’¡ å»ºè®®: ä½¿ç”¨"æ‰¹é‡æ·»åŠ "åŠŸèƒ½æ‰‹åŠ¨è¾“å…¥æ‚¨ç½‘ç«™çš„é¡µé¢URL`);
                }
                
                // æ£€æŸ¥æ˜¯å¦æ˜¯SPAåº”ç”¨
                if (validLinkCount === 0 && anchorTags.length === 0) {
                    console.warn('âš ï¸ æœªæ‰¾åˆ°ä»»ä½•<a>æ ‡ç­¾ï¼');
                    console.log('HTMLå‰800å­—ç¬¦:', html.substring(0, 800));
                    
                    if (html.includes('id="app"') || html.includes('id="root"') || html.includes('ng-app') || 
                        html.includes('data-reactroot') || html.includes('__NEXT_DATA__') || html.includes('nuxt')) {
                        console.warn('ğŸ” æ£€æµ‹åˆ°å•é¡µåº”ç”¨(SPA)æ¡†æ¶ç‰¹å¾');
                        console.warn('ğŸ’¡ å·²å¯ç”¨JavaScriptè·¯ç”±æå–ï¼Œå‘ç°äº† ' + routeCount + ' ä¸ªå¯èƒ½çš„è·¯ç”±');
                    }
                }
                
                console.log(`\nğŸ“Š æ±‡æ€»: å…±å‘ç° ${links.size} ä¸ªå”¯ä¸€é“¾æ¥`);
                if (links.size > 0) {
                    console.log('å‰10ä¸ªé“¾æ¥:');
                    Array.from(links).slice(0, 10).forEach((link, i) => {
                        console.log(`  ${i + 1}. ${link}`);
                    });
                }
                console.log('=== é“¾æ¥æå–å®Œæˆ ===\n');
                
            } catch (e) {
                console.error('æå–é“¾æ¥æ—¶å‡ºé”™:', e);
            }
            
            return Array.from(links);
        }

        // CORSä»£ç†åˆ—è¡¨ï¼ˆæŒ‰ä¼˜å…ˆçº§æ’åºï¼Œæ·»åŠ å¤šä¸ªå¤‡ç”¨ä»£ç†æé«˜ç¨³å®šæ€§ï¼‰
        const corsProxies = [
            {
                name: 'AllOrigins',
                url: (targetUrl) => `https://api.allorigins.win/get?url=${encodeURIComponent(targetUrl)}`,
                parseResponse: async (response) => {
                    const data = await response.json();
                    return {
                        html: data.contents || '',
                        finalUrl: data.status?.url || null
                    };
                }
            },
            {
                name: 'CORS Anywhere (Heroku)',
                url: (targetUrl) => `https://cors-anywhere.herokuapp.com/${targetUrl}`,
                parseResponse: async (response) => {
                    const html = await response.text();
                    return {
                        html: html,
                        finalUrl: response.url || null
                    };
                }
            },
            {
                name: 'ThingProxy',
                url: (targetUrl) => `https://thingproxy.freeboard.io/fetch/${targetUrl}`,
                parseResponse: async (response) => {
                    const html = await response.text();
                    return {
                        html: html,
                        finalUrl: null
                    };
                }
            },
            {
                name: 'CORS.SH',
                url: (targetUrl) => `https://cors.sh/${targetUrl}`,
                parseResponse: async (response) => {
                    const html = await response.text();
                    return {
                        html: html,
                        finalUrl: null
                    };
                }
            }
        ];
        
        let currentProxyIndex = 0;
        
        // æ£€æŸ¥æ˜¯å¦åº”è¯¥ä½¿ç”¨CORSä»£ç†
        function shouldUseCorsProxy() {
            const checkbox = document.getElementById('useCorsProxy');
            return checkbox ? checkbox.checked : true;
        }

        // ä½¿ç”¨CORSä»£ç†è·å–é¡µé¢å†…å®¹ï¼Œå¹¶è¿”å›æœ€ç»ˆURLï¼ˆå¤„ç†é‡å®šå‘ï¼‰
        async function fetchPage(url, useProxy = null, retryCount = 0) {
            if (retryCount === 0) {
                console.log(`\nğŸ“¡ æ­£åœ¨è·å–: ${url}`);
            }
            
            // å¦‚æœæ²¡æœ‰æ˜ç¡®æŒ‡å®šï¼Œåˆ™ä½¿ç”¨ç”¨æˆ·è®¾ç½®
            const useCorsProxy = useProxy !== null ? useProxy : shouldUseCorsProxy();
            
            try {
                let fetchUrl = url;
                let finalUrl = url;
                
                // å¦‚æœéœ€è¦ä½¿ç”¨CORSä»£ç†
                if (useCorsProxy) {
                    const proxy = corsProxies[currentProxyIndex];
                    fetchUrl = proxy.url(url);
                    
                    if (retryCount > 0) {
                        console.log(`  ğŸ”„ é‡è¯• ${retryCount}/2 (ä½¿ç”¨ ${proxy.name})...`);
                    }
                    
                    const response = await fetch(fetchUrl, {
                        method: 'GET',
                        signal: AbortSignal.timeout(8000) // 8ç§’è¶…æ—¶
                    });
                    
                    if (!response.ok) {
                        throw new Error(`HTTP ${response.status}`);
                    }
                    
                    const result = await proxy.parseResponse(response);
                    const html = result.html;
                    finalUrl = result.finalUrl || url;
                    
                    // æ£€æŸ¥æ˜¯å¦æœ‰é‡å®šå‘
                    if (finalUrl !== url) {
                        console.log(`  ğŸ”„ æ£€æµ‹åˆ°é‡å®šå‘: ${url} -> ${finalUrl}`);
                        
                        const redirectedDomain = new URL(finalUrl).hostname;
                        if (!validDomains.has(redirectedDomain)) {
                            validDomains.add(redirectedDomain);
                            console.log(`  â• æ·»åŠ æ–°åŸŸå: ${redirectedDomain}`);
                        }
                    }
                    
                    console.log(`  âœ“ è·å–æˆåŠŸï¼ŒHTMLé•¿åº¦: ${html.length} å­—ç¬¦`);
                    
                    if (html.length < 100) {
                        console.warn('  âš ï¸ HTMLå†…å®¹è¿‡çŸ­');
                    }
                    
                    return {
                        html: html,
                        finalUrl: finalUrl
                    };
                } else {
                    // ç›´æ¥è¯·æ±‚ï¼ˆä¸ä½¿ç”¨ä»£ç†ï¼‰
                    if (retryCount === 0) {
                        console.log('  ğŸ”— ç›´æ¥è¯·æ±‚æ¨¡å¼ï¼ˆä¸ä½¿ç”¨CORSä»£ç†ï¼‰');
                    }
                    
                    const response = await fetch(url, {
                        method: 'GET',
                        mode: 'cors', // æ˜ç¡®æŒ‡å®šCORSæ¨¡å¼
                        credentials: 'omit', // ä¸å‘é€å‡­æ®
                        headers: {
                            'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',
                            'User-Agent': 'Mozilla/5.0 (compatible; SitemapGenerator/1.0)',
                        },
                        signal: AbortSignal.timeout(8000)
                    });
                    
                    if (!response.ok) {
                        throw new Error(`HTTP ${response.status}`);
                    }
                    
                    finalUrl = response.url || url;
                    const html = await response.text();
                    
                    console.log(`  âœ“ ç›´æ¥è·å–æˆåŠŸï¼ŒHTMLé•¿åº¦: ${html.length} å­—ç¬¦`);
                    
                    // æ£€æŸ¥æ˜¯å¦æœ‰é‡å®šå‘
                    if (finalUrl !== url) {
                        console.log(`  ğŸ”„ æ£€æµ‹åˆ°é‡å®šå‘: ${url} -> ${finalUrl}`);
                        
                        const redirectedDomain = new URL(finalUrl).hostname;
                        if (!validDomains.has(redirectedDomain)) {
                            validDomains.add(redirectedDomain);
                            console.log(`  â• æ·»åŠ æ–°åŸŸå: ${redirectedDomain}`);
                        }
                    }
                    
                    return {
                        html: html,
                        finalUrl: finalUrl
                    };
                }
            } catch (error) {
                console.error(`  âœ— è·å–å¤±è´¥: ${error.message}`);
                
                // å¤„ç†ä¸åŒçš„å¤±è´¥æƒ…å†µ
                if (useCorsProxy && retryCount < corsProxies.length - 1) {
                    // å¦‚æœä½¿ç”¨ä»£ç†å¤±è´¥ï¼Œå°è¯•åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªä»£ç†
                    currentProxyIndex = (currentProxyIndex + 1) % corsProxies.length;
                    console.log(`  ğŸ”„ åˆ‡æ¢åˆ°å¤‡ç”¨ä»£ç†: ${corsProxies[currentProxyIndex].name}...`);
                    
                    await new Promise(resolve => setTimeout(resolve, 1000));
                    return fetchPage(url, true, retryCount + 1);
                } else if (!useCorsProxy && retryCount === 0 && shouldUseCorsProxy()) {
                    // å¦‚æœç›´æ¥è¯·æ±‚å¤±è´¥ä¸”ç”¨æˆ·å…è®¸ä½¿ç”¨ä»£ç†ï¼Œå°è¯•ä½¿ç”¨ä»£ç†
                    console.log(`  ğŸ’¡ ç›´æ¥è¯·æ±‚å¤±è´¥ï¼Œå°è¯•ä½¿ç”¨CORSä»£ç†...`);
                    currentProxyIndex = 0; // é‡ç½®ä»£ç†ç´¢å¼•
                    await new Promise(resolve => setTimeout(resolve, 500));
                    return fetchPage(url, true, retryCount + 1);
                }
                
                return null;
            }
        }

        // å°è¯•ä»sitemap.xmlå’Œrobots.txtè·å–URL
        async function tryGetUrlsFromSitemap(baseUrl) {
            const discoveredFromSitemap = new Set();
            
            console.log('\nğŸ—ºï¸  å°è¯•è·å–ç°æœ‰çš„sitemap.xml...');
            
            // å°è¯•è·å–sitemap.xml
            try {
                const sitemapUrl = baseUrl + '/sitemap.xml';
                const result = await fetchPage(sitemapUrl);
                
                if (result && result.html) {
                    console.log('  âœ“ æ‰¾åˆ°sitemap.xml');
                    // ä»sitemapä¸­æå–<loc>æ ‡ç­¾
                    const locRegex = /<loc>(.*?)<\/loc>/gi;
                    let match;
                    while ((match = locRegex.exec(result.html)) !== null) {
                        const url = match[1].trim();
                        if (isValidDomain(url)) {
                            discoveredFromSitemap.add(url);
                        }
                    }
                    console.log(`  ğŸ“ ä»sitemap.xmlæå–åˆ° ${discoveredFromSitemap.size} ä¸ªURL`);
                }
            } catch (e) {
                console.log('  âœ— æœªæ‰¾åˆ°sitemap.xml');
            }
            
            // å°è¯•è·å–robots.txt
            console.log('\nğŸ¤– å°è¯•è·å–robots.txt...');
            try {
                const robotsUrl = baseUrl + '/robots.txt';
                const result = await fetchPage(robotsUrl);
                
                if (result && result.html) {
                    console.log('  âœ“ æ‰¾åˆ°robots.txt');
                    // ä»robots.txtä¸­æå–Sitemapå’Œè·¯å¾„
                    const sitemapMatches = result.html.match(/Sitemap:\s*(.+)/gi);
                    if (sitemapMatches) {
                        console.log(`  ğŸ“ robots.txtæŒ‡å‘äº† ${sitemapMatches.length} ä¸ªsitemap`);
                    }
                }
            } catch (e) {
                console.log('  âœ— æœªæ‰¾åˆ°robots.txt');
            }
            
            return Array.from(discoveredFromSitemap);
        }

        // BFSçˆ¬å–ç½‘ç«™
        async function crawlWebsite(startUrl, maxDepth, maxPages) {
            // åˆå§‹åŒ–æœ‰æ•ˆåŸŸåé›†åˆ
            validDomains.clear();
            const initialDomain = new URL(startUrl).hostname;
            const baseUrl = new URL(startUrl).origin;
            validDomains.add(initialDomain);
            console.log(`\nğŸ“ åˆå§‹åŸŸå: ${initialDomain}`);
            
            // å°è¯•ä»sitemap.xmlè·å–URL
            const sitemapUrls = await tryGetUrlsFromSitemap(baseUrl);
            
            discoveredUrls = new Set([startUrl]);
            
            // å°†sitemapä¸­çš„URLåŠ å…¥é˜Ÿåˆ—
            if (sitemapUrls.length > 0) {
                sitemapUrls.forEach(url => {
                    if (!discoveredUrls.has(url)) {
                        discoveredUrls.add(url);
                    }
                });
                console.log(`âœ¨ å·²å°†sitemapä¸­çš„ ${sitemapUrls.length} ä¸ªURLåŠ å…¥é˜Ÿåˆ—`);
            }
            
            crawledUrls = new Set();
            
            let queue = [{ url: startUrl, depth: 0 }];
            
            // å°†sitemapçš„URLåŠ å…¥é˜Ÿåˆ—ï¼ˆæ·±åº¦è®¾ä¸º1ï¼‰
            sitemapUrls.forEach(url => {
                if (url !== startUrl) {
                    queue.push({ url: url, depth: 1 });
                }
            });
            
            let currentIndex = 0;
            
            console.log(`\nğŸ” å¼€å§‹BFSçˆ¬å–ï¼ˆæœ€å¤§æ·±åº¦: ${maxDepth}ï¼Œæœ€å¤§é¡µé¢: ${maxPages}ï¼‰`);
            console.log(`ğŸ“‹ åˆå§‹é˜Ÿåˆ—: ${queue.length} ä¸ªURL\n`);
            
            while (currentIndex < queue.length && crawledUrls.size < maxPages) {
                const { url, depth } = queue[currentIndex];
                currentIndex++;
                
                if (crawledUrls.has(url)) {
                    console.log(`â­ï¸  è·³è¿‡å·²çˆ¬å–: ${url}`);
                    continue;
                }
                
                if (depth > maxDepth) {
                    console.log(`â¹ï¸  æ·±åº¦è¶…é™(${depth} > ${maxDepth}): ${url}`);
                    continue;
                }
                
                console.log(`\nğŸ“– [ç¬¬${crawledUrls.size + 1}é¡µ] æ·±åº¦${depth}: ${url}`);
                
                // æ›´æ–°çŠ¶æ€
                updateStatus(discoveredUrls.size, crawledUrls.size, depth);
                const displayUrl = url.length > 60 ? url.substring(0, 60) + '...' : url;
                document.getElementById('progressText').textContent = 
                    `æ­£åœ¨çˆ¬å–ç¬¬ ${depth} å±‚ (${crawledUrls.size + 1}/${maxPages})ï¼š${displayUrl}`;
                
                // è·å–é¡µé¢å†…å®¹
                const result = await fetchPage(url);
                
                if (result && result.html) {
                    // ä½¿ç”¨æœ€ç»ˆURLï¼ˆå¯èƒ½æ˜¯é‡å®šå‘åçš„URLï¼‰
                    const finalUrl = result.finalUrl;
                    
                    // å°†å®é™…è®¿é—®çš„URLæ·»åŠ åˆ°å·²çˆ¬å–é›†åˆ
                    crawledUrls.add(finalUrl);
                    
                    // å¦‚æœåˆå§‹URLå’Œæœ€ç»ˆURLä¸åŒï¼Œä¹ŸæŠŠæœ€ç»ˆURLåŠ å…¥å‘ç°åˆ—è¡¨
                    if (finalUrl !== url && !discoveredUrls.has(finalUrl)) {
                        discoveredUrls.add(finalUrl);
                        console.log(`  â• æ·»åŠ é‡å®šå‘URLåˆ°å‘ç°åˆ—è¡¨`);
                    }
                    
                    // å¦‚æœè¿˜æ²¡æœ‰è¾¾åˆ°æœ€å¤§æ·±åº¦ï¼Œç»§ç»­æå–é“¾æ¥
                    if (depth < maxDepth) {
                        // ä½¿ç”¨æœ€ç»ˆURLä½œä¸ºåŸºç¡€URLæ¥æå–é“¾æ¥
                        const links = extractLinks(result.html, finalUrl);
                        
                        let newLinksCount = 0;
                        for (const link of links) {
                            if (!discoveredUrls.has(link) && discoveredUrls.size < maxPages * 2) {
                                discoveredUrls.add(link);
                                queue.push({ url: link, depth: depth + 1 });
                                newLinksCount++;
                            }
                        }
                        
                        console.log(`  âœ… æˆåŠŸçˆ¬å–ï¼æ–°å¢ ${newLinksCount} ä¸ªå¾…çˆ¬å–é“¾æ¥`);
                        console.log(`  ğŸ“Š é˜Ÿåˆ—çŠ¶æ€: ${queue.length - currentIndex} å¾…å¤„ç†, ${discoveredUrls.size} å·²å‘ç°, ${crawledUrls.size} å·²å®Œæˆ`);
                    } else {
                        console.log(`  â¹ï¸  å·²è¾¾æœ€å¤§æ·±åº¦ï¼Œä¸å†æå–é“¾æ¥`);
                    }
                } else {
                    console.error(`  âŒ æ— æ³•è·å–é¡µé¢å†…å®¹`);
                }
                
                // æ·»åŠ å»¶è¿Ÿï¼Œé¿å…è¯·æ±‚è¿‡å¿«
                await new Promise(resolve => setTimeout(resolve, 800));
            }
            
            updateStatus(discoveredUrls.size, crawledUrls.size, maxDepth);
            console.log(`\nâœ¨ çˆ¬å–ä»»åŠ¡å®Œæˆ`);
            console.log(`ğŸ“Š ç»Ÿè®¡ä¿¡æ¯:`);
            console.log(`   - æœ‰æ•ˆåŸŸå: ${Array.from(validDomains).join(', ')}`);
            console.log(`   - å·²å‘ç°URL: ${discoveredUrls.size} ä¸ª`);
            console.log(`   - å·²çˆ¬å–URL: ${crawledUrls.size} ä¸ª`);
            
            // å¦‚æœçˆ¬å–ç»“æœè¾ƒå°‘ä¸”ç”¨æˆ·å¯ç”¨äº†å¸¸è§è·¯å¾„é€‰é¡¹
            const useCommonPaths = document.getElementById('useCommonPaths').checked;
            if (useCommonPaths && crawledUrls.size < 10) {
                console.log(`\nğŸ”§ çˆ¬å–ç»“æœè¾ƒå°‘(${crawledUrls.size}ä¸ª)ï¼Œå°è¯•è¡¥å……è·¯å¾„...`);
                const commonAdded = await tryCommonPaths(baseUrl);
                console.log(`âœ“ è·¯å¾„è¡¥å……å®Œæˆï¼Œæ–°å¢ ${commonAdded} ä¸ªé¡µé¢`);
            }
            
            // æœ€ç»ˆæç¤º
            if (crawledUrls.size < 5) {
                console.log(`\nğŸ’¡ å»ºè®®: å¦‚æœç»“æœä¸ç†æƒ³ï¼Œå¯ä»¥:`);
                console.log(`   1. ä½¿ç”¨"ğŸ“ æ‰¹é‡æ·»åŠ "åŠŸèƒ½æ‰‹åŠ¨è¾“å…¥é¡µé¢URL`);
                console.log(`   2. ç¡®ä¿"ğŸš€ SPAå¿«é€Ÿæ¨¡å¼"å·²å‹¾é€‰ï¼ˆå¦‚æœæ˜¯å•é¡µåº”ç”¨ï¼‰`);
                console.log(`   3. ç›´æ¥ç¼–è¾‘ç”Ÿæˆçš„XMLæ–‡ä»¶`);
            }
            
            return Array.from(crawledUrls);
        }
        
        // å°è¯•å¸¸è§çš„ç½‘ç«™è·¯å¾„
        async function tryCommonPaths(baseUrl) {
            const commonPaths = [
                '/', '/home', '/index',
                '/about', '/about-us', 
                '/contact', '/contact-us',
                '/services', '/products',
                '/blog', '/news', '/articles',
                '/pricing', '/plans',
                '/faq', '/help',
                '/privacy', '/terms', '/legal',
                '/features', '/solutions',
                '/login', '/signup', '/register',
                '/dashboard', '/profile'
            ];
            
            let addedCount = 0;
            let spaDetected = false;
            let baseHtmlLength = 0;
            const spaFastMode = document.getElementById('spaFastMode').checked;
            
            // è·å–ç¬¬ä¸€ä¸ªé¡µé¢çš„HTMLé•¿åº¦ä½œä¸ºåŸºå‡†ï¼ˆSPAæ£€æµ‹ï¼‰
            if (crawledUrls.size > 0) {
                const firstUrl = Array.from(crawledUrls)[0];
                console.log(`\n  ğŸ“Š æ£€æµ‹SPAç‰¹å¾...`);
                
                // å°è¯•è·å–åŸºå‡†é¡µé¢
                let firstResult = null;
                try {
                    firstResult = await fetchPage(firstUrl);
                } catch (e) {
                    console.warn(`  âš ï¸ æ— æ³•è®¿é—®åŸºå‡†é¡µé¢ï¼Œå°†ä½¿ç”¨å¿«é€Ÿæ¨¡å¼`);
                }
                
                if (firstResult && firstResult.html) {
                    baseHtmlLength = firstResult.html.length;
                    console.log(`  åŸºå‡†HTMLé•¿åº¦: ${baseHtmlLength} å­—ç¬¦`);
                    
                    // æ£€æµ‹SPAç‰¹å¾
                    const html = firstResult.html.toLowerCase();
                    const isSPA = (
                        (baseHtmlLength < 5000 && firstResult.html.includes('<script')) ||
                        html.includes('react') ||
                        html.includes('vue') ||
                        html.includes('angular') ||
                        html.includes('id="root"') ||
                        html.includes('id="app"') ||
                        html.includes('__next') ||
                        html.includes('nuxt')
                    );
                    
                    if (isSPA) {
                        spaDetected = true;
                        console.log(`  âœ“ ç¡®è®¤ä¸ºSPAåº”ç”¨`);
                        
                        if (spaFastMode) {
                            console.log(`  ğŸš€ å¯ç”¨SPAå¿«é€Ÿæ¨¡å¼ - ç›´æ¥æ·»åŠ è·¯ç”±ï¼Œæ— éœ€éªŒè¯`);
                            console.log(`  ğŸ’¡ å› ä¸ºSPAæ‰€æœ‰è·¯ç”±éƒ½è¿”å›ç›¸åŒHTMLï¼Œæ— éœ€é€ä¸ªè®¿é—®`);
                            
                            // ç›´æ¥æ·»åŠ æ‰€æœ‰å¸¸è§è·¯å¾„
                            for (const path of commonPaths) {
                                const testUrl = baseUrl + path;
                                if (!crawledUrls.has(testUrl)) {
                                    crawledUrls.add(testUrl);
                                    addedCount++;
                                    console.log(`    âœ“ æ·»åŠ SPAè·¯ç”±: ${testUrl}`);
                                }
                            }
                            
                            console.log(`\n  âœ… å¿«é€Ÿæ¨¡å¼å®Œæˆï¼Œæ·»åŠ äº† ${addedCount} ä¸ªSPAè·¯ç”±`);
                            console.log(`  ğŸ’¡ æç¤º: å¯é€šè¿‡"æ‰‹åŠ¨æ·»åŠ "åŠŸèƒ½è¡¥å……å…¶ä»–é¡µé¢`);
                            return addedCount;
                        }
                    }
                }
            }
            
            // å¦‚æœä¸æ˜¯SPAå¿«é€Ÿæ¨¡å¼ï¼Œåˆ™é€ä¸ªå°è¯•è®¿é—®
            console.log(`\n  ğŸ” é€ä¸ªéªŒè¯é¡µé¢ï¼ˆå¯èƒ½è¾ƒæ…¢ï¼‰...`);
            
            for (const path of commonPaths) {
                const testUrl = baseUrl + path;
                
                if (crawledUrls.has(testUrl) || discoveredUrls.has(testUrl)) {
                    continue;
                }
                
                console.log(`  ğŸ” å°è¯•: ${testUrl}`);
                
                try {
                    const result = await fetchPage(testUrl);
                    
                    if (result && result.html) {
                        // å¯¹äºSPAåº”ç”¨ï¼Œæ£€æŸ¥HTMLé•¿åº¦
                        if (spaDetected && baseHtmlLength > 0) {
                            if (Math.abs(result.html.length - baseHtmlLength) < 100) {
                                crawledUrls.add(testUrl);
                                addedCount++;
                                console.log(`    âœ“ SPAè·¯ç”±: ${testUrl}`);
                            }
                        } else if (result.html.length > 500) {
                            // éSPAæˆ–é¦–æ¬¡æ£€æµ‹
                            crawledUrls.add(testUrl);
                            addedCount++;
                            console.log(`    âœ“ æœ‰æ•ˆé¡µé¢: ${testUrl}`);
                        }
                    }
                } catch (e) {
                    console.log(`    âœ— è®¿é—®å¤±è´¥: ${e.message}`);
                }
                
                // æ·»åŠ å»¶è¿Ÿ
                await new Promise(resolve => setTimeout(resolve, 200));
                
                // å¦‚æœå·²ç»æ·»åŠ è¶³å¤Ÿå¤šï¼Œæˆ–è€…é‡åˆ°å¤ªå¤šå¤±è´¥
                if (addedCount >= 15) {
                    console.log(`  å·²æ·»åŠ  ${addedCount} ä¸ªé¡µé¢ï¼Œåœæ­¢å°è¯•`);
                    break;
                }
            }
            
            if (spaDetected && addedCount > 0) {
                console.log(`\n  ğŸ’¡ è¿™æ˜¯SPAåº”ç”¨ï¼Œæ‰€æœ‰è·¯ç”±è¿”å›ç›¸åŒHTML`);
                console.log(`  ğŸ’¡ sitemapä¾ç„¶æœ‰æ•ˆï¼Œæœç´¢å¼•æ“ä¼šæ‰§è¡ŒJavaScriptæŸ¥çœ‹å®é™…å†…å®¹`);
            }
            
            return addedCount;
        }

        // å¼€å§‹çˆ¬å–
        async function startCrawl() {
            if (isProcessing) {
                return;
            }
            
            const websiteUrl = document.getElementById('websiteUrl').value.trim();
            const maxDepth = parseInt(document.getElementById('maxDepth').value);
            const maxPages = parseInt(document.getElementById('maxPages').value);
            const defaultFreq = document.getElementById('defaultFreq').value;
            
            // éªŒè¯è¾“å…¥
            if (!websiteUrl) {
                alert('è¯·è¾“å…¥ç½‘ç«™URLï¼');
                return;
            }
            
            if (!validateUrl(websiteUrl)) {
                alert('è¯·è¾“å…¥æœ‰æ•ˆçš„ç½‘ç«™URLï¼ˆåŒ…å« http:// æˆ– https://ï¼‰ï¼');
                return;
            }
            
            // é‡ç½®çŠ¶æ€
            debugLog = []; // æ¸…ç©ºè°ƒè¯•æ—¥å¿—
            if (debugMode) {
                document.getElementById('debugLog').textContent = '';
            }
            
            isProcessing = true;
            document.getElementById('startBtn').disabled = true;
            document.getElementById('loading').classList.add('show');
            document.getElementById('resultArea').classList.remove('show');
            document.getElementById('errorMessage').classList.remove('show');
            updateStatus(0, 0, 0);
            
            console.log('===========================================');
            console.log('ğŸš€ å¼€å§‹çˆ¬å–ä»»åŠ¡');
            console.log('ç›®æ ‡URL:', websiteUrl);
            console.log('æœ€å¤§æ·±åº¦:', maxDepth);
            console.log('æœ€å¤§é¡µé¢æ•°:', maxPages);
            console.log('===========================================');
            
            try {
                document.getElementById('progressText').textContent = 'æ­£åœ¨å¼€å§‹çˆ¬å–...';
                
                // çˆ¬å–ç½‘ç«™
                const urls = await crawlWebsite(websiteUrl, maxDepth, maxPages);
                
                console.log('\nâœ… çˆ¬å–å®Œæˆï¼');
                console.log('æ€»å…±çˆ¬å–åˆ°', urls.length, 'ä¸ªé¡µé¢');
                
                if (urls.length === 0) {
                    console.error('æœªèƒ½çˆ¬å–åˆ°ä»»ä½•é¡µé¢ï¼');
                    showError('æœªèƒ½çˆ¬å–åˆ°ä»»ä½•é¡µé¢ã€‚è¯·æŸ¥çœ‹è°ƒè¯•æ—¥å¿—äº†è§£è¯¦æƒ…ã€‚å»ºè®®ï¼š1) å‹¾é€‰"æ˜¾ç¤ºè°ƒè¯•æ—¥å¿—" 2) æ£€æŸ¥ç½‘ç«™æ˜¯å¦å¯è®¿é—® 3) å°è¯•ä¸åŒçš„URL');
                    document.getElementById('loading').classList.remove('show');
                    document.getElementById('startBtn').disabled = false;
                    isProcessing = false;
                    return;
                }
                
                // æ˜¾ç¤ºåŸŸåä¿¡æ¯
                displayDomainInfo();
                
                // æ˜¾ç¤ºURLåˆ—è¡¨
                displayUrlList(urls);
                
                // ç”ŸæˆSitemap
                document.getElementById('progressText').textContent = 'æ­£åœ¨ç”ŸæˆSitemap XML...';
                const xml = generateSitemapXml(urls, defaultFreq);
                generatedXml = xml;
                
                // æ˜¾ç¤ºç»“æœï¼ˆä½¿ç”¨valueå› ä¸ºç°åœ¨æ˜¯textareaï¼‰
                document.getElementById('resultPreview').value = xml;
                document.getElementById('loading').classList.remove('show');
                document.getElementById('resultArea').classList.add('show');
                
                // è‡ªåŠ¨åˆå§‹åŒ–robots.txt
                initializeRobotsTxt();
                
                // æ»šåŠ¨åˆ°ç»“æœåŒºåŸŸ
                document.getElementById('resultArea').scrollIntoView({ behavior: 'smooth', block: 'start' });
                
            } catch (error) {
                console.error('çˆ¬å–å¤±è´¥:', error);
                showError('çˆ¬å–è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ï¼š' + error.message);
                document.getElementById('loading').classList.remove('show');
            } finally {
                document.getElementById('startBtn').disabled = false;
                isProcessing = false;
            }
        }

        // æ˜¾ç¤ºåŸŸåä¿¡æ¯
        function displayDomainInfo() {
            const domainInfoDiv = document.getElementById('domainInfo');
            const domains = Array.from(validDomains);
            
            if (domains.length > 1) {
                domainInfoDiv.innerHTML = `
                    <strong>âœ“ æ£€æµ‹åˆ°é‡å®šå‘ï¼š</strong>å·²è‡ªåŠ¨è·Ÿè¸ªå¹¶çˆ¬å–ä»¥ä¸‹åŸŸåçš„é¡µé¢ï¼š<br>
                    ${domains.map(d => `<code style="background: white; padding: 2px 6px; border-radius: 3px; margin: 2px;">${d}</code>`).join(' ')}
                `;
            } else {
                domainInfoDiv.innerHTML = `<strong>âœ“ çˆ¬å–åŸŸåï¼š</strong><code style="background: white; padding: 2px 6px; border-radius: 3px;">${domains[0]}</code>`;
            }
        }

        // æ˜¾ç¤ºURLåˆ—è¡¨
        function displayUrlList(urls) {
            const urlListDiv = document.getElementById('urlList');
            const urlCountSpan = document.getElementById('urlCount');
            
            urlListDiv.innerHTML = '';
            urlCountSpan.textContent = urls.length;
            
            // å¯¹URLè¿›è¡Œæ’åºï¼Œæ›´ç¾è§‚
            const sortedUrls = [...urls].sort();
            
            sortedUrls.forEach((url, index) => {
                const item = document.createElement('div');
                item.className = 'url-item';
                item.textContent = `${index + 1}. ${url}`;
                urlListDiv.appendChild(item);
            });
        }

        // ç”ŸæˆSitemap XML
        function generateSitemapXml(urls, frequency) {
            // è·å–ç”¨æˆ·é€‰æ‹©çš„æ—¥æœŸï¼Œå¦‚æœæ²¡æœ‰é€‰æ‹©åˆ™ä½¿ç”¨ä»Šå¤©
            const lastmodInput = document.getElementById('lastmodDate');
            let lastmodDate;
            
            if (lastmodInput.value) {
                lastmodDate = lastmodInput.value;
            } else {
                lastmodDate = formatDate(new Date());
            }
            
            // è·å–ä¼˜å…ˆçº§è®¾ç½®
            const autoCalculate = document.getElementById('autoCalculatePriority').checked;
            const defaultPriorityValue = parseFloat(document.getElementById('defaultPriority').value);
            
            // è¾“å‡ºå½“å‰ä½¿ç”¨çš„ä¼˜å…ˆçº§æ¨¡å¼
            if (autoCalculate) {
                console.log('ğŸ“Š ä¼˜å…ˆçº§æ¨¡å¼: è‡ªåŠ¨è®¡ç®—ï¼ˆæ ¹æ®URLå±‚çº§æ·±åº¦ï¼‰');
            } else {
                console.log(`â­ ä¼˜å…ˆçº§æ¨¡å¼: å›ºå®šå€¼ ${defaultPriorityValue.toFixed(1)}`);
            }
            
            let xml = '<?xml version="1.0" encoding="UTF-8"?>\n';
            xml += '<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">\n';
            
            urls.forEach(url => {
                let priority;
                
                if (autoCalculate) {
                    // æ ¹æ®URLè·¯å¾„æ·±åº¦è‡ªåŠ¨è®¡ç®—ä¼˜å…ˆçº§
                    const pathDepth = (url.match(/\//g) || []).length - 2;
                    priority = Math.max(0.3, 1.0 - pathDepth * 0.1).toFixed(1);
                } else {
                    // ä½¿ç”¨ç”¨æˆ·è®¾ç½®çš„å›ºå®šä¼˜å…ˆçº§
                    priority = defaultPriorityValue.toFixed(1);
                }
                
                xml += '  <url>\n';
                xml += `    <loc>${escapeXml(url)}</loc>\n`;
                xml += `    <lastmod>${lastmodDate}</lastmod>\n`;
                xml += `    <changefreq>${frequency}</changefreq>\n`;
                xml += `    <priority>${priority}</priority>\n`;
                xml += '  </url>\n';
            });
            
            xml += '</urlset>';
            
            console.log(`âœ… Sitemapç”Ÿæˆå®Œæˆï¼š${urls.length} ä¸ªURLï¼Œlastmod=${lastmodDate}, changefreq=${frequency}`);
            
            return xml;
        }

        // å¤åˆ¶åˆ°å‰ªè´´æ¿
        function copyToClipboard() {
            // ä»textareaè·å–å½“å‰å†…å®¹ï¼ˆå¯èƒ½å·²è¢«ç”¨æˆ·ç¼–è¾‘ï¼‰
            const xmlContent = document.getElementById('resultPreview').value;
            
            if (!xmlContent) {
                alert('æ²¡æœ‰å¯å¤åˆ¶çš„å†…å®¹ï¼');
                return;
            }
            
            navigator.clipboard.writeText(xmlContent).then(() => {
                const btn = event.target;
                const originalText = btn.textContent;
                btn.textContent = 'âœ“ å·²å¤åˆ¶ï¼';
                
                setTimeout(() => {
                    btn.textContent = originalText;
                }, 2000);
            }).catch(err => {
                // å¤‡ç”¨å¤åˆ¶æ–¹æ³•
                const textarea = document.createElement('textarea');
                textarea.value = xmlContent;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                
                const btn = event.target;
                const originalText = btn.textContent;
                btn.textContent = 'âœ“ å·²å¤åˆ¶ï¼';
                setTimeout(() => {
                    btn.textContent = originalText;
                }, 2000);
            });
        }

        // ä¸‹è½½Sitemapæ–‡ä»¶
        function downloadSitemap() {
            // ä»textareaè·å–å½“å‰å†…å®¹ï¼ˆå¯èƒ½å·²è¢«ç”¨æˆ·ç¼–è¾‘ï¼‰
            const xmlContent = document.getElementById('resultPreview').value;
            
            if (!xmlContent) {
                alert('æ²¡æœ‰å¯ä¸‹è½½çš„å†…å®¹ï¼');
                return;
            }
            
            const blob = new Blob([xmlContent], { type: 'application/xml;charset=utf-8' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'sitemap.xml';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
            
            // æ˜¾ç¤ºä¸‹è½½æˆåŠŸæç¤º
            const btn = event.target;
            const originalText = btn.textContent;
            btn.textContent = 'âœ“ ä¸‹è½½æˆåŠŸï¼';
            
            setTimeout(() => {
                btn.textContent = originalText;
            }, 2000);
        }

        // æ‰‹åŠ¨æ·»åŠ URLåˆ°åˆ—è¡¨
        function showAddUrlDialog() {
            const url = prompt('è¯·è¾“å…¥è¦æ·»åŠ çš„URLï¼ˆå®Œæ•´åœ°å€ï¼‰ï¼š\nä¾‹å¦‚ï¼šhttps://example.com/page');
            
            if (!url) return;
            
            if (!validateUrl(url)) {
                alert('URLæ ¼å¼æ— æ•ˆï¼Œè¯·è¾“å…¥å®Œæ•´çš„URLï¼ˆåŒ…å« http:// æˆ– https://ï¼‰');
                return;
            }
            
            // æ·»åŠ åˆ°çˆ¬å–åˆ—è¡¨
            if (!crawledUrls.has(url)) {
                crawledUrls.add(url);
                console.log(`âœ“ æ‰‹åŠ¨æ·»åŠ URL: ${url}`);
                
                // é‡æ–°ç”Ÿæˆsitemap
                regenerateSitemap();
                
                alert('URLå·²æ·»åŠ å¹¶é‡æ–°ç”ŸæˆSitemapï¼');
            } else {
                alert('è¯¥URLå·²å­˜åœ¨äºåˆ—è¡¨ä¸­ï¼');
            }
        }
        
        // æ‰¹é‡æ·»åŠ URL
        function showBatchAddDialog() {
            const urls = prompt('è¯·æ‰¹é‡è¾“å…¥URLï¼ˆæ¯è¡Œä¸€ä¸ªï¼‰ï¼š\n\nä¾‹å¦‚ï¼š\nhttps://xx.com/\nhttps://xx.com/about\nhttps://xx.com/contact\nhttps://xx.com/pricing', '');
            
            if (!urls) return;
            
            const urlList = urls.split('\n')
                .map(u => u.trim())
                .filter(u => u.length > 0);
            
            if (urlList.length === 0) {
                alert('æ²¡æœ‰è¾“å…¥ä»»ä½•URL');
                return;
            }
            
            let addedCount = 0;
            let invalidCount = 0;
            let duplicateCount = 0;
            
            urlList.forEach(url => {
                if (!validateUrl(url)) {
                    invalidCount++;
                    console.warn(`âœ— æ— æ•ˆURL: ${url}`);
                    return;
                }
                
                if (crawledUrls.has(url)) {
                    duplicateCount++;
                    return;
                }
                
                crawledUrls.add(url);
                addedCount++;
                console.log(`âœ“ æ·»åŠ URL: ${url}`);
            });
            
            if (addedCount > 0) {
                regenerateSitemap();
            }
            
            let message = `æ‰¹é‡æ·»åŠ å®Œæˆï¼\n\n`;
            message += `âœ“ æˆåŠŸæ·»åŠ : ${addedCount} ä¸ª\n`;
            if (duplicateCount > 0) message += `â­ï¸  é‡å¤è·³è¿‡: ${duplicateCount} ä¸ª\n`;
            if (invalidCount > 0) message += `âœ— æ ¼å¼æ— æ•ˆ: ${invalidCount} ä¸ª\n`;
            
            alert(message);
        }
        
        // é‡æ–°ç”Ÿæˆsitemap
        function regenerateSitemap() {
            const defaultFreq = document.getElementById('defaultFreq').value;
            const urls = Array.from(crawledUrls);
            
            displayUrlList(urls);
            displayDomainInfo();
            const xml = generateSitemapXml(urls, defaultFreq);
            generatedXml = xml;
            document.getElementById('resultPreview').value = xml;
        }
        
        // è®¾ç½®æ—¥æœŸä¸ºä»Šå¤©
        function setToday() {
            const today = new Date();
            document.getElementById('lastmodDate').value = formatDate(today);
        }
        
        // è®¾ç½®æ—¥æœŸä¸ºæ˜¨å¤©
        function setYesterday() {
            const yesterday = new Date();
            yesterday.setDate(yesterday.getDate() - 1);
            document.getElementById('lastmodDate').value = formatDate(yesterday);
        }
        
        // æ›´æ–°ä¼˜å…ˆçº§æ¨¡å¼æŒ‡ç¤ºå™¨
        function updatePriorityModeIndicator() {
            const autoCalcCheckbox = document.getElementById('autoCalculatePriority');
            const indicator = document.getElementById('priorityModeIndicator');
            const modeText = document.getElementById('priorityModeText');
            const priorityValue = document.getElementById('defaultPriority').value;
            
            if (autoCalcCheckbox.checked) {
                indicator.style.display = 'block';
                indicator.style.background = '#e3f2fd';
                indicator.style.borderColor = '#2196f3';
                modeText.innerHTML = '<strong style="color: #2196f3;">ğŸ“Š è‡ªåŠ¨è®¡ç®—</strong> - ä¼˜å…ˆçº§æ ¹æ®URLå±‚çº§è‡ªåŠ¨è®¡ç®—';
            } else {
                indicator.style.display = 'block';
                indicator.style.background = '#fff3cd';
                indicator.style.borderColor = '#ffc107';
                modeText.innerHTML = `<strong style="color: #f57c00;">â­ å›ºå®šå€¼ ${priorityValue}</strong> - æ‰€æœ‰URLä½¿ç”¨ç›¸åŒä¼˜å…ˆçº§`;
            }
        }
        
        // è®¾ç½®ä¼˜å…ˆçº§
        function setPriority(value) {
            document.getElementById('defaultPriority').value = value.toFixed(1);
            
            // è‡ªåŠ¨å–æ¶ˆ"è‡ªåŠ¨è®¡ç®—"é€‰é¡¹
            const autoCalcCheckbox = document.getElementById('autoCalculatePriority');
            if (autoCalcCheckbox.checked) {
                autoCalcCheckbox.checked = false;
                document.getElementById('defaultPriority').disabled = false;
                document.getElementById('defaultPriority').style.opacity = '1';
                console.log(`â­ å·²è‡ªåŠ¨åˆ‡æ¢åˆ°å›ºå®šä¼˜å…ˆçº§æ¨¡å¼`);
            }
            
            console.log(`â­ priorityä¼˜å…ˆçº§å·²è®¾ç½®ä¸º: ${value}`);
            
            // æ›´æ–°æ¨¡å¼æŒ‡ç¤ºå™¨
            updatePriorityModeIndicator();
            
            // å¦‚æœå·²ç»æœ‰ç”Ÿæˆçš„sitemapï¼Œè‡ªåŠ¨é‡æ–°ç”Ÿæˆ
            if (crawledUrls.size > 0) {
                const resultArea = document.getElementById('resultArea');
                if (resultArea.classList.contains('show')) {
                    console.log('ğŸ”„ è‡ªåŠ¨é‡æ–°ç”Ÿæˆsitemap...');
                    regenerateSitemap();
                }
            }
        }
        
        // å¿«é€Ÿç”Ÿæˆï¼ˆä¸çˆ¬å–ï¼Œç›´æ¥ä½¿ç”¨å¸¸è§è·¯ç”±ï¼‰
        function quickGenerate() {
            const websiteUrl = document.getElementById('websiteUrl').value.trim();
            
            if (!websiteUrl) {
                alert('è¯·å…ˆè¾“å…¥ç½‘ç«™URLï¼');
                return;
            }
            
            if (!validateUrl(websiteUrl)) {
                alert('è¯·è¾“å…¥æœ‰æ•ˆçš„ç½‘ç«™URLï¼ˆåŒ…å« http:// æˆ– https://ï¼‰ï¼');
                return;
            }
            
            const baseUrl = new URL(websiteUrl).origin;
            const defaultFreq = document.getElementById('defaultFreq').value;
            
            console.log('âš¡ å¿«é€Ÿç”Ÿæˆæ¨¡å¼');
            console.log('ç›®æ ‡URL:', websiteUrl);
            
            // å¸¸è§çš„SPAè·¯ç”±
            const quickRoutes = [
                '/',
                '/home',
                '/about',
                '/about-us',
                '/contact',
                '/contact-us',
                '/features',
                '/pricing',
                '/plans',
                '/services',
                '/products',
                '/solutions',
                '/blog',
                '/news',
                '/resources',
                '/docs',
                '/documentation',
                '/help',
                '/support',
                '/faq',
                '/team',
                '/careers',
                '/jobs',
                '/login',
                '/signup',
                '/register',
                '/privacy',
                '/terms',
                '/legal'
            ];
            
            // æ¸…ç©ºå¹¶æ·»åŠ è·¯ç”±
            crawledUrls = new Set();
            validDomains = new Set([new URL(websiteUrl).hostname]);
            
            quickRoutes.forEach(route => {
                const url = baseUrl + route;
                crawledUrls.add(url);
            });
            
            console.log(`âœ“ ç”Ÿæˆäº† ${crawledUrls.size} ä¸ªå¸¸è§è·¯ç”±`);
            
            // æ˜¾ç¤ºç»“æœ
            const urls = Array.from(crawledUrls);
            displayDomainInfo();
            displayUrlList(urls);
            
            const xml = generateSitemapXml(urls, defaultFreq);
            generatedXml = xml;
            document.getElementById('resultPreview').value = xml;
            
            document.getElementById('resultArea').classList.add('show');
            document.getElementById('resultArea').scrollIntoView({ behavior: 'smooth', block: 'start' });
            
            // è‡ªåŠ¨åˆå§‹åŒ–robots.txt
            initializeRobotsTxt();
            
            alert(`âœ… å¿«é€Ÿç”Ÿæˆå®Œæˆï¼\n\nå·²ç”Ÿæˆ ${urls.length} ä¸ªå¸¸è§é¡µé¢çš„sitemapã€‚\næ‚¨å¯ä»¥:\nâ€¢ ç›´æ¥ä¸‹è½½ä½¿ç”¨\nâ€¢ ç‚¹å‡»"+ æ·»åŠ å•ä¸ªURL"è¡¥å……é¡µé¢\nâ€¢ ç‚¹å‡»"ğŸ“ æ‰¹é‡æ·»åŠ "æ‰¹é‡ä¿®æ”¹\nâ€¢ åˆ‡æ¢åˆ°"ğŸ¤– Robots.txt"æ ‡ç­¾ç”Ÿæˆrobotsæ–‡ä»¶`);
        }
        
        // ==================== Robots.txt åŠŸèƒ½ ====================
        
        let robotsRules = [];
        
        // åˆå§‹åŒ–Robots.txtï¼ˆåœ¨ç”Ÿæˆsitemapåè°ƒç”¨ï¼‰
        function initializeRobotsTxt() {
            // è‡ªåŠ¨å¡«å……sitemap URL
            if (crawledUrls.size > 0) {
                const firstUrl = Array.from(crawledUrls)[0];
                const baseUrl = new URL(firstUrl).origin;
                const sitemapUrlInput = document.getElementById('sitemapUrl');
                if (!sitemapUrlInput.value) {
                    sitemapUrlInput.value = baseUrl + '/sitemap.xml';
                }
            }
            
            // æ›´æ–°robotsé¢„è§ˆ
            updateRobotsPreview();
            
            console.log('ğŸ¤– Robots.txtå·²åˆå§‹åŒ–');
        }
        
        // åˆ‡æ¢æ ‡ç­¾é¡µ
        function switchTab(tab) {
            const sitemapTab = document.getElementById('tabSitemap');
            const robotsTab = document.getElementById('tabRobots');
            const sitemapContent = document.getElementById('sitemapContent');
            const robotsContent = document.getElementById('robotsContent');
            
            if (tab === 'sitemap') {
                sitemapTab.style.borderBottom = '3px solid #667eea';
                sitemapTab.style.color = '#667eea';
                robotsTab.style.borderBottom = '3px solid transparent';
                robotsTab.style.color = '#666';
                sitemapContent.style.display = 'block';
                robotsContent.style.display = 'none';
            } else {
                robotsTab.style.borderBottom = '3px solid #667eea';
                robotsTab.style.color = '#667eea';
                sitemapTab.style.borderBottom = '3px solid transparent';
                sitemapTab.style.color = '#666';
                robotsContent.style.display = 'block';
                sitemapContent.style.display = 'none';
                
                // åˆ‡æ¢åˆ°robotsæ—¶ï¼Œè‡ªåŠ¨ç”Ÿæˆé¢„è§ˆ
                updateRobotsPreview();
            }
        }
        
        // æ·»åŠ è§„åˆ™å¯¹è¯æ¡†
        function showAddRuleDialog(type) {
            const typeName = type === 'disallow' ? 'ç¦æ­¢' : 'å…è®¸';
            const path = prompt(`è¯·è¾“å…¥è¦${typeName}çš„è·¯å¾„ï¼ˆä¾‹å¦‚ï¼š/admin/ æˆ– /private/ï¼‰ï¼š\n\næç¤ºï¼š\nâ€¢ ä»¥ / å¼€å¤´\nâ€¢ ä½¿ç”¨ * è¡¨ç¤ºé€šé…ç¬¦\nâ€¢ /admin/ è¡¨ç¤ºç¦æ­¢æ•´ä¸ªç›®å½•\nâ€¢ *.pdf è¡¨ç¤ºç¦æ­¢æ‰€æœ‰PDFæ–‡ä»¶`, '/');
            
            if (path) {
                addRule(type, path);
            }
        }
        
        // æ·»åŠ è§„åˆ™
        function addRule(type, path) {
            const rule = {
                type: type,
                path: path,
                id: Date.now()
            };
            
            robotsRules.push(rule);
            updateRulesDisplay();
            updateRobotsPreview();
            console.log(`${type === 'disallow' ? 'ğŸš«' : 'âœ…'} æ·»åŠ ${type === 'disallow' ? 'ç¦æ­¢' : 'å…è®¸'}è§„åˆ™: ${path}`);
        }
        
        // åˆ é™¤è§„åˆ™
        function removeRule(id) {
            robotsRules = robotsRules.filter(rule => rule.id !== id);
            updateRulesDisplay();
            updateRobotsPreview();
        }
        
        // æ›´æ–°è§„åˆ™æ˜¾ç¤º
        function updateRulesDisplay() {
            const container = document.getElementById('rulesContainer');
            
            if (robotsRules.length === 0) {
                container.innerHTML = '<div style="color: #999; padding: 20px; text-align: center;">æš‚æ— è§„åˆ™ï¼Œç‚¹å‡»ä¸Šæ–¹æŒ‰é’®æ·»åŠ </div>';
                return;
            }
            
            let html = '';
            robotsRules.forEach(rule => {
                const bgColor = rule.type === 'disallow' ? '#ffebee' : '#e8f5e9';
                const textColor = rule.type === 'disallow' ? '#c62828' : '#2e7d32';
                const icon = rule.type === 'disallow' ? 'ğŸš«' : 'âœ…';
                const label = rule.type === 'disallow' ? 'Disallow' : 'Allow';
                
                html += `
                    <div style="display: flex; align-items: center; gap: 10px; padding: 10px; background: ${bgColor}; border-radius: 8px; margin-bottom: 8px;">
                        <span style="font-size: 20px;">${icon}</span>
                        <div style="flex: 1;">
                            <strong style="color: ${textColor};">${label}:</strong>
                            <code style="margin-left: 8px; padding: 2px 6px; background: white; border-radius: 4px;">${rule.path}</code>
                        </div>
                        <button onclick="removeRule(${rule.id})" style="padding: 4px 12px; background: #666; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 12px;">åˆ é™¤</button>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }
        
        // æ™ºèƒ½ç”Ÿæˆè§„åˆ™
        function autoGenerateRules() {
            if (crawledUrls.size === 0) {
                alert('è¯·å…ˆçˆ¬å–ç½‘ç«™æˆ–ä½¿ç”¨å¿«é€Ÿç”ŸæˆåŠŸèƒ½ï¼');
                return;
            }
            
            const commonDisallow = [
                '/admin/',
                '/wp-admin/',
                '/login/',
                '/logout/',
                '/dashboard/',
                '/api/',
                '/private/',
                '/*.pdf',
                '/*.doc',
                '/*.docx'
            ];
            
            const confirm = window.confirm(`æ™ºèƒ½ç”Ÿæˆå°†æ·»åŠ ä»¥ä¸‹å¸¸è§çš„ç¦æ­¢è§„åˆ™ï¼š\n\n${commonDisallow.join('\n')}\n\næ˜¯å¦ç»§ç»­ï¼Ÿ`);
            
            if (confirm) {
                robotsRules = []; // æ¸…ç©ºç°æœ‰è§„åˆ™
                commonDisallow.forEach(path => {
                    addRule('disallow', path);
                });
                alert('âœ… å·²è‡ªåŠ¨ç”Ÿæˆå¸¸è§çš„ç¦æ­¢è§„åˆ™ï¼');
            }
        }
        
        // å¤„ç†User-agenté€‰æ‹©å˜åŒ–
        function handleUserAgentChange(changedId) {
            const uaAll = document.getElementById('ua_all');
            const uaNone = document.getElementById('ua_none');
            
            // "æ‰€æœ‰çˆ¬è™«"å’Œ"ç¦æ­¢æ‰€æœ‰çˆ¬è™«"äº’æ–¥
            if (changedId === 'ua_all' && uaAll.checked) {
                uaNone.checked = false;
            } else if (changedId === 'ua_none' && uaNone.checked) {
                uaAll.checked = false;
                
                // é€‰æ‹©"ç¦æ­¢æ‰€æœ‰çˆ¬è™«"æ—¶ï¼Œæ˜¾ç¤ºæç¤º
                const confirm = window.confirm('âš ï¸ æ³¨æ„ï¼šé€‰æ‹©"ç¦æ­¢æ‰€æœ‰çˆ¬è™«"å°†æ·»åŠ  Disallow: / è§„åˆ™ï¼Œç¦æ­¢æ‰€æœ‰æœç´¢å¼•æ“çˆ¬å–æ‚¨çš„ç½‘ç«™ï¼\n\nè¿™é€šå¸¸ç”¨äºï¼š\nâ€¢ å¼€å‘/æµ‹è¯•ç¯å¢ƒ\nâ€¢ ä¸´æ—¶ä¸‹çº¿çš„ç½‘ç«™\nâ€¢ ä¸å¸Œæœ›è¢«æœç´¢å¼•æ“æ”¶å½•çš„é¡µé¢\n\næ˜¯å¦ç»§ç»­ï¼Ÿ');
                
                if (!confirm) {
                    uaNone.checked = false;
                    uaAll.checked = true;
                }
            }
            
            updateRobotsPreview();
        }
        
        // ä»URLåˆ—è¡¨é€‰æ‹©
        function selectFromUrls() {
            if (crawledUrls.size === 0) {
                alert('è¯·å…ˆçˆ¬å–ç½‘ç«™æˆ–ä½¿ç”¨å¿«é€Ÿç”ŸæˆåŠŸèƒ½ï¼');
                return;
            }
            
            // å…ˆè®©ç”¨æˆ·é€‰æ‹©è§„åˆ™ç±»å‹
            const ruleType = prompt('è¯·é€‰æ‹©è§„åˆ™ç±»å‹ï¼š\n\n1. ç¦æ­¢çˆ¬å– (Disallow)\n2. å…è®¸çˆ¬å– (Allow)\n\nè¯·è¾“å…¥ 1 æˆ– 2ï¼š');
            
            if (!ruleType || (ruleType !== '1' && ruleType !== '2')) {
                return;
            }
            
            const type = ruleType === '1' ? 'disallow' : 'allow';
            const typeName = type === 'disallow' ? 'ç¦æ­¢' : 'å…è®¸';
            
            // ä»URLä¸­æå–æ‰€æœ‰å”¯ä¸€çš„è·¯å¾„å‰ç¼€
            const paths = new Set();
            const urlArray = Array.from(crawledUrls);
            
            urlArray.forEach(url => {
                try {
                    const urlObj = new URL(url);
                    const pathname = urlObj.pathname;
                    
                    // æ·»åŠ å®Œæ•´è·¯å¾„
                    if (pathname && pathname !== '/') {
                        paths.add(pathname);
                    }
                    
                    // æ·»åŠ ç›®å½•è·¯å¾„
                    const parts = pathname.split('/').filter(p => p);
                    let currentPath = '';
                    parts.forEach(part => {
                        currentPath += '/' + part;
                        paths.add(currentPath + '/');
                    });
                } catch (e) {
                    console.error('è§£æURLå‡ºé”™:', url);
                }
            });
            
            const pathArray = Array.from(paths).sort();
            
            if (pathArray.length === 0) {
                alert('æ²¡æœ‰å¯é€‰æ‹©çš„è·¯å¾„ï¼');
                return;
            }
            
            // åˆ›å»ºé€‰æ‹©åˆ—è¡¨
            let message = `ä»ä»¥ä¸‹è·¯å¾„ä¸­é€‰æ‹©è¦${typeName}çš„é¡¹ï¼ˆè¾“å…¥åºå·ï¼Œå¤šä¸ªç”¨é€—å·åˆ†éš”ï¼‰ï¼š\n\n`;
            pathArray.forEach((path, index) => {
                message += `${index + 1}. ${path}\n`;
            });
            message += `\nğŸ’¡ æç¤ºï¼šè¾“å…¥ all å¯${typeName}å…¨éƒ¨è·¯å¾„`;
            
            const input = prompt(message);
            
            if (input) {
                if (input.toLowerCase() === 'all') {
                    // æ·»åŠ æ‰€æœ‰è·¯å¾„
                    pathArray.forEach(path => {
                        addRule(type, path);
                    });
                    alert(`âœ… å·²æ·»åŠ  ${pathArray.length} æ¡${typeName}è§„åˆ™ï¼`);
                } else {
                    // æŒ‰åºå·æ·»åŠ 
                    const indices = input.split(',').map(s => parseInt(s.trim()) - 1);
                    let addedCount = 0;
                    
                    indices.forEach(index => {
                        if (index >= 0 && index < pathArray.length) {
                            addRule(type, pathArray[index]);
                            addedCount++;
                        }
                    });
                    
                    if (addedCount > 0) {
                        alert(`âœ… å·²æ·»åŠ  ${addedCount} æ¡${typeName}è§„åˆ™ï¼`);
                    }
                }
            }
        }
        
        // å…¨éƒ¨å…è®¸çˆ¬å–
        function allowAllUrls() {
            if (crawledUrls.size === 0) {
                alert('è¯·å…ˆçˆ¬å–ç½‘ç«™æˆ–ä½¿ç”¨å¿«é€Ÿç”ŸæˆåŠŸèƒ½ï¼');
                return;
            }
            
            const confirm = window.confirm('å°†æ¸…ç©ºç°æœ‰è§„åˆ™ï¼Œå¹¶æ·»åŠ  "Allow: /" è§„åˆ™ï¼Œå…è®¸çˆ¬å–æ‰€æœ‰é¡µé¢ã€‚\n\næ˜¯å¦ç»§ç»­ï¼Ÿ');
            
            if (confirm) {
                robotsRules = [];
                addRule('allow', '/');
                console.log('âœ… å·²è®¾ç½®ä¸ºå…è®¸çˆ¬å–æ‰€æœ‰é¡µé¢');
                alert('âœ… å·²è®¾ç½®ä¸ºå…è®¸çˆ¬å–æ‰€æœ‰é¡µé¢ï¼');
            }
        }
        
        // å…¨éƒ¨ç¦æ­¢çˆ¬å–
        function disallowAllUrls() {
            if (crawledUrls.size === 0) {
                alert('è¯·å…ˆçˆ¬å–ç½‘ç«™æˆ–ä½¿ç”¨å¿«é€Ÿç”ŸæˆåŠŸèƒ½ï¼');
                return;
            }
            
            const confirm = window.confirm('å°†æ¸…ç©ºç°æœ‰è§„åˆ™ï¼Œå¹¶æ·»åŠ  "Disallow: /" è§„åˆ™ï¼Œç¦æ­¢çˆ¬å–æ‰€æœ‰é¡µé¢ã€‚\n\nâš ï¸ æ³¨æ„ï¼šè¿™å°†ç¦æ­¢æ‰€æœ‰æœç´¢å¼•æ“çˆ¬å–æ‚¨çš„ç½‘ç«™ï¼\n\næ˜¯å¦ç»§ç»­ï¼Ÿ');
            
            if (confirm) {
                robotsRules = [];
                addRule('disallow', '/');
                
                // è‡ªåŠ¨åˆ‡æ¢åˆ°"ç¦æ­¢æ‰€æœ‰çˆ¬è™«"æ¨¡å¼
                document.getElementById('ua_all').checked = false;
                document.getElementById('ua_none').checked = true;
                
                console.log('ğŸš« å·²è®¾ç½®ä¸ºç¦æ­¢çˆ¬å–æ‰€æœ‰é¡µé¢');
                alert('ğŸš« å·²è®¾ç½®ä¸ºç¦æ­¢çˆ¬å–æ‰€æœ‰é¡µé¢ï¼');
            }
        }
        
        // æ¸…ç©ºæ‰€æœ‰è§„åˆ™
        function clearAllRules() {
            if (robotsRules.length === 0) {
                alert('å½“å‰æ²¡æœ‰ä»»ä½•è§„åˆ™ï¼');
                return;
            }
            
            const confirm = window.confirm(`ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰ ${robotsRules.length} æ¡è§„åˆ™å—ï¼Ÿ`);
            
            if (confirm) {
                robotsRules = [];
                updateRulesDisplay();
                updateRobotsPreview();
                console.log('ğŸ—‘ï¸ å·²æ¸…ç©ºæ‰€æœ‰è§„åˆ™');
                alert('âœ… å·²æ¸…ç©ºæ‰€æœ‰è§„åˆ™ï¼');
            }
        }
        
        // æ›´æ–°Robotsé¢„è§ˆ
        function updateRobotsPreview() {
            let robots = '# Robots.txt - Generated by Sitemap Generator\n';
            robots += '# Generated on: ' + new Date().toISOString().split('T')[0] + '\n';
            robots += '# Learn more: https://www.robotstxt.org/\n\n';
            
            // æ£€æŸ¥æ˜¯å¦é€‰æ‹©äº†"ç¦æ­¢æ‰€æœ‰çˆ¬è™«"
            const blockAllBots = document.getElementById('ua_none').checked;
            const warningDiv = document.getElementById('blockAllWarning');
            
            // æ˜¾ç¤º/éšè—è­¦å‘Šæç¤º
            if (warningDiv) {
                warningDiv.style.display = blockAllBots ? 'block' : 'none';
            }
            
            if (blockAllBots) {
                // ç¦æ­¢æ‰€æœ‰çˆ¬è™«æ¨¡å¼
                robots += '# Block all crawlers\n';
                robots += 'User-agent: *\n';
                robots += 'Disallow: /\n';
                
                // æ·»åŠ Crawl-delayï¼ˆå¦‚æœæœ‰ï¼‰
                const crawlDelay = document.getElementById('crawlDelay').value;
                if (crawlDelay && parseInt(crawlDelay) > 0) {
                    robots += `Crawl-delay: ${crawlDelay}\n`;
                }
            } else {
                // æ­£å¸¸æ¨¡å¼ï¼šè·å–é€‰ä¸­çš„User-agent
                const userAgents = [];
                if (document.getElementById('ua_all').checked) userAgents.push('*');
                if (document.getElementById('ua_google').checked) userAgents.push('Googlebot');
                if (document.getElementById('ua_bing').checked) userAgents.push('Bingbot');
                if (document.getElementById('ua_baidu').checked) userAgents.push('Baiduspider');
                if (document.getElementById('ua_yandex').checked) userAgents.push('YandexBot');
                
                // å¦‚æœæ²¡æœ‰é€‰æ‹©ä»»ä½•User-agentï¼Œä½¿ç”¨é»˜è®¤çš„*
                if (userAgents.length === 0) {
                    userAgents.push('*');
                }
                
                // ä¸ºæ¯ä¸ªUser-agentç”Ÿæˆè§„åˆ™
                userAgents.forEach((ua, index) => {
                    if (index > 0) robots += '\n';
                    
                    robots += `User-agent: ${ua}\n`;
                    
                    // æ·»åŠ è§„åˆ™
                    if (robotsRules.length === 0) {
                        // å¦‚æœæ²¡æœ‰è§„åˆ™ï¼Œé»˜è®¤å…è®¸æ‰€æœ‰
                        robots += '# Allow all pages (default)\n';
                        robots += 'Allow: /\n';
                    } else {
                        robots += '# Custom rules\n';
                        // å…ˆæ·»åŠ Allowè§„åˆ™ï¼Œåæ·»åŠ Disallowè§„åˆ™ï¼ˆrobots.txtçš„æ¨èé¡ºåºï¼‰
                        const allowRules = robotsRules.filter(r => r.type === 'allow');
                        const disallowRules = robotsRules.filter(r => r.type === 'disallow');
                        
                        allowRules.forEach(rule => {
                            robots += `Allow: ${rule.path}\n`;
                        });
                        
                        disallowRules.forEach(rule => {
                            robots += `Disallow: ${rule.path}\n`;
                        });
                    }
                    
                    // æ·»åŠ Crawl-delay
                    const crawlDelay = document.getElementById('crawlDelay').value;
                    if (crawlDelay && parseInt(crawlDelay) > 0) {
                        robots += `Crawl-delay: ${crawlDelay}\n`;
                    }
                });
            }
            
            // æ·»åŠ Sitemapï¼ˆé™¤éæ˜¯å®Œå…¨ç¦æ­¢æ¨¡å¼ï¼‰
            if (!blockAllBots) {
                robots += '\n# Sitemap\n';
                let sitemapUrl = document.getElementById('sitemapUrl').value.trim();
                
                if (!sitemapUrl && crawledUrls.size > 0) {
                    // è‡ªåŠ¨ç”Ÿæˆsitemap URL
                    const firstUrl = Array.from(crawledUrls)[0];
                    const baseUrl = new URL(firstUrl).origin;
                    sitemapUrl = baseUrl + '/sitemap.xml';
                }
                
                if (sitemapUrl) {
                    robots += `Sitemap: ${sitemapUrl}\n`;
                }
            }
            
            document.getElementById('robotsPreview').value = robots;
            
            console.log('ğŸ¤– Robots.txtå·²æ›´æ–°');
        }
        
        // å¤åˆ¶Robots
        function copyRobots() {
            const robotsContent = document.getElementById('robotsPreview').value;
            
            if (!robotsContent) {
                alert('æ²¡æœ‰å¯å¤åˆ¶çš„å†…å®¹ï¼');
                return;
            }
            
            navigator.clipboard.writeText(robotsContent).then(() => {
                const btn = event.target;
                const originalText = btn.textContent;
                btn.textContent = 'âœ“ å·²å¤åˆ¶ï¼';
                
                setTimeout(() => {
                    btn.textContent = originalText;
                }, 2000);
            }).catch(err => {
                // å¤‡ç”¨å¤åˆ¶æ–¹æ³•
                const textarea = document.createElement('textarea');
                textarea.value = robotsContent;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                
                alert('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
            });
        }
        
        // ä¸‹è½½Robots
        function downloadRobots() {
            const robotsContent = document.getElementById('robotsPreview').value;
            
            if (!robotsContent) {
                alert('æ²¡æœ‰å¯ä¸‹è½½çš„å†…å®¹ï¼');
                return;
            }
            
            const blob = new Blob([robotsContent], { type: 'text/plain;charset=utf-8' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'robots.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
            
            // æ˜¾ç¤ºä¸‹è½½æˆåŠŸæç¤º
            const btn = event.target;
            const originalText = btn.textContent;
            btn.textContent = 'âœ“ ä¸‹è½½æˆåŠŸï¼';
            
            setTimeout(() => {
                btn.textContent = originalText;
            }, 2000);
        }
        
        // å›è½¦é”®å¿«é€Ÿæäº¤
        document.getElementById('websiteUrl').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                startCrawl();
            }
        });
        
        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–æ—¥æœŸä¸ºä»Šå¤©
        document.addEventListener('DOMContentLoaded', function() {
            setToday();
            
            // ç›‘å¬æ—¥æœŸå˜åŒ–
            document.getElementById('lastmodDate').addEventListener('change', function() {
                console.log(`ğŸ“… lastmodæ—¥æœŸå·²æ›´æ”¹ä¸º: ${this.value}`);
                if (crawledUrls.size > 0) {
                    const resultArea = document.getElementById('resultArea');
                    if (resultArea.classList.contains('show')) {
                        console.log('ğŸ”„ è‡ªåŠ¨é‡æ–°ç”Ÿæˆsitemap...');
                        regenerateSitemap();
                    }
                }
            });
            
            // ç›‘å¬ä¼˜å…ˆçº§å˜åŒ–
            document.getElementById('defaultPriority').addEventListener('input', function() {
                let value = parseFloat(this.value);
                
                // éªŒè¯èŒƒå›´
                if (value < 0) {
                    value = 0;
                    this.value = '0.0';
                } else if (value > 1) {
                    value = 1;
                    this.value = '1.0';
                }
                
                // è‡ªåŠ¨å–æ¶ˆ"è‡ªåŠ¨è®¡ç®—"é€‰é¡¹
                const autoCalcCheckbox = document.getElementById('autoCalculatePriority');
                if (autoCalcCheckbox.checked && this.value) {
                    autoCalcCheckbox.checked = false;
                    this.disabled = false;
                    this.style.opacity = '1';
                    console.log(`â­ æ£€æµ‹åˆ°æ‰‹åŠ¨è¾“å…¥ï¼Œå·²è‡ªåŠ¨åˆ‡æ¢åˆ°å›ºå®šä¼˜å…ˆçº§æ¨¡å¼`);
                }
                
                console.log(`â­ priorityä¼˜å…ˆçº§å·²æ›´æ”¹ä¸º: ${value}`);
                
                // æ›´æ–°æ¨¡å¼æŒ‡ç¤ºå™¨
                updatePriorityModeIndicator();
                
                if (crawledUrls.size > 0) {
                    const resultArea = document.getElementById('resultArea');
                    if (resultArea.classList.contains('show')) {
                        console.log('ğŸ”„ è‡ªåŠ¨é‡æ–°ç”Ÿæˆsitemap...');
                        regenerateSitemap();
                    }
                }
            });
            
            // ç›‘å¬"è‡ªåŠ¨è®¡ç®—ä¼˜å…ˆçº§"å¤é€‰æ¡†å˜åŒ–
            document.getElementById('autoCalculatePriority').addEventListener('change', function() {
                const isChecked = this.checked;
                const priorityInput = document.getElementById('defaultPriority');
                
                if (isChecked) {
                    console.log('ğŸ“Š å·²å¯ç”¨è‡ªåŠ¨è®¡ç®—ä¼˜å…ˆçº§ï¼ˆæ ¹æ®URLå±‚çº§ï¼‰');
                    priorityInput.disabled = true;
                    priorityInput.style.opacity = '0.6';
                } else {
                    console.log('â­ å·²ç¦ç”¨è‡ªåŠ¨è®¡ç®—ï¼Œä½¿ç”¨å›ºå®šä¼˜å…ˆçº§: ' + priorityInput.value);
                    priorityInput.disabled = false;
                    priorityInput.style.opacity = '1';
                }
                
                // æ›´æ–°æ¨¡å¼æŒ‡ç¤ºå™¨
                updatePriorityModeIndicator();
                
                if (crawledUrls.size > 0) {
                    const resultArea = document.getElementById('resultArea');
                    if (resultArea.classList.contains('show')) {
                        console.log('ğŸ”„ è‡ªåŠ¨é‡æ–°ç”Ÿæˆsitemap...');
                        regenerateSitemap();
                    }
                }
            });
            
            // åˆå§‹åŒ–æ—¶æ ¹æ®å¤é€‰æ¡†çŠ¶æ€è®¾ç½®è¾“å…¥æ¡†çŠ¶æ€
            const autoCalcCheckbox = document.getElementById('autoCalculatePriority');
            const priorityInput = document.getElementById('defaultPriority');
            if (autoCalcCheckbox.checked) {
                priorityInput.disabled = true;
                priorityInput.style.opacity = '0.6';
            }
            
            // åˆå§‹åŒ–æ¨¡å¼æŒ‡ç¤ºå™¨
            updatePriorityModeIndicator();
        });
        
        // å¦‚æœDOMContentLoadedå·²ç»è§¦å‘ï¼Œç›´æ¥è®¾ç½®
        if (document.readyState === 'loading') {
            // ç­‰å¾…DOMContentLoaded
        } else {
            // DOMå·²ç»åŠ è½½å®Œæˆ
            setToday();
        }
    </script>
    
    <!-- å…³äºä¿¡æ¯ -->
    <div style="position: fixed; bottom: 10px; right: 10px; background: rgba(255,255,255,0.9); padding: 8px 15px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); font-size: 12px; color: #666; cursor: pointer;" onclick="showAbout()">
        â„¹ï¸ å…³äº
    </div>
    
    <script>
        function showAbout() {
            alert(`ğŸ—ºï¸ Sitemap/Robots ç”Ÿæˆå™¨ v2.0

ğŸ“¦ æŠ€æœ¯æ ˆï¼š
â€¢ çº¯HTML + åŸç”ŸJavaScript
â€¢ æ— ä»»ä½•ç¬¬ä¸‰æ–¹åº“ä¾èµ–
â€¢ å®Œå…¨ç¦»çº¿å¯ç”¨

ğŸŒ ç½‘ç»œæœåŠ¡ï¼š
â€¢ CORSä»£ç†ï¼šAllOrigins, ThingProxy, CORS Anywhere, CORS.SH
â€¢ å¯é€‰ä½¿ç”¨ï¼Œæ”¯æŒå®Œå…¨ç¦»çº¿æ¨¡å¼

âœ¨ åŠŸèƒ½ç‰¹æ€§ï¼š
â€¢ Sitemap.xml ç”Ÿæˆ
â€¢ Robots.txt ç”Ÿæˆ  
â€¢ æ™ºèƒ½çˆ¬å–ç½‘ç«™é“¾æ¥
â€¢ SPAåº”ç”¨æ”¯æŒ
â€¢ æ‰¹é‡URLç®¡ç†

ğŸ’¾ ä½¿ç”¨æ–¹å¼ï¼š
1. åœ¨çº¿ä½¿ç”¨ï¼šç›´æ¥åœ¨æµè§ˆå™¨æ‰“å¼€
2. ç¦»çº¿ä½¿ç”¨ï¼šå–æ¶ˆ"ä½¿ç”¨CORSä»£ç†"æˆ–ä½¿ç”¨"å¿«é€Ÿç”Ÿæˆ"

ä½œè€…ï¼šè‹ä¸‰åšå®¢
æœ€åæ›´æ–°ï¼š2025-11-28`);
        }
    </script>
</body>
</html>
